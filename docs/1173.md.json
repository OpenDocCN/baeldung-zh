["```\r\n<dependency>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter</artifactId>\r\n    <version>2.7.2</version>\r\n</dependency>\r\n<dependency>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter-test</artifactId>\r\n    <version>2.7.2</version>\r\n    <scope>test</scope>\r\n</dependency>\r\n<dependency>\r\n    <groupId>org.mockito</groupId>\r\n    <artifactId>mockito-core</artifactId>\r\n    <version>2.21.0</version>\r\n</dependency>\r\n```","```\r\n@Service\r\npublic class NameService {\r\n    public String getUserName(String id) {\r\n        return \"Real user name\";\r\n    }\r\n}\r\n```","```\r\n@Service\r\npublic class UserService {\r\n\r\n    private NameService nameService;\r\n\r\n    @Autowired\r\n    public UserService(NameService nameService) {\r\n        this.nameService = nameService;\r\n    }\r\n\r\n    public String getUserName(String id) {\r\n        return nameService.getUserName(id);\r\n    }\r\n}\r\n```","```\r\n@SpringBootApplication\r\npublic class MocksApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MocksApplication.class, args);\r\n    }\r\n}\r\n```","```\r\n@Profile(\"test\")\r\n@Configuration\r\npublic class NameServiceTestConfiguration {\r\n    @Bean\r\n    @Primary\r\n    public NameService nameService() {\r\n        return Mockito.mock(NameService.class);\r\n    }\r\n}\r\n```","```\r\n@ActiveProfiles(\"test\")\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringApplicationConfiguration(classes = MocksApplication.class)\r\npublic class UserServiceUnitTest {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private NameService nameService;\r\n\r\n    @Test\r\n    public void whenUserIdIsProvided_thenRetrievedNameIsCorrect() {\r\n        Mockito.when(nameService.getUserName(\"SomeId\")).thenReturn(\"Mock user name\");\r\n        String testName = userService.getUserName(\"SomeId\");\r\n        Assert.assertEquals(\"Mock user name\", testName);\r\n    }\r\n}\r\n```"]