# 对两个整数进行除法运算会产生浮点数

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/java-integer-division-float-result>

## 1.概观

我们可以在 Java 中使用[除法运算符](/web/20221025140709/https://www.baeldung.com/java-operators#4-the-division-operator) (/)将左边的值除以右边的值。比如说，`int number = 10 / 5`。

在这个快速教程中，我们将探索如何从整数除法运算中获得一个`float`结果。

## 2.问题简介

首先，为了简单起见，我们将在本教程中使用单元测试断言来验证计算结果。

我们可能已经意识到**当我们对两个整数(如`a/b`)应用除法运算符时，它总是返回一个整数，即使`a`不能被** `**b**,` 整除，例如:

```
int i = 10 / 4;
assertEquals(2, i); 
```

如果我们进行测试，就会通过。所以，`10 / 4` 产生 2 而不是`2.5`。而且，即使我们把计算结果赋给一个`float`变量，结果还是两个:

```
float x = 10 / 4;
assertEquals(2, x); 
```

那么接下来，让我们首先了解为什么会发生这种情况，然后弄清楚如何获得期望的`float`结果，例如，在本例中是 2.5。

## 3.为什么 Java 中两个整数相除总会产生一个整数？

要理解 Java 中 10 / 4 = 2 的原因，我们需要查看 JLS (Java 语言规范)中的[除法运算符部分](https://web.archive.org/web/20221025140709/https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.17.2)，了解除法运算符的行为是如何定义的。

首先，规范声明**整数除法向零**舍入。换句话说，**两个整数的除法运算结果只是商数。其余部分不包括在内。**

所以我们在计算`10 / 4`的时候，得到的是 2 而不是 2.5。

接下来，让我们看看如果两个整数不能整除，如何得到预期的`float`结果。

## 4.如何使两个整数相除产生浮点数？

现在，我们已经了解了除法运算符如何处理两个整数。JLS 还在[二进制数值提升](https://web.archive.org/web/20221025140709/https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.6.2)中定义了原语操作数转换规则。

**对`*`、`/`、`%`运算符**进行二进制数值提升。因此，除法运算遵循操作数转换规则。

那么接下来，让我们仔细看看操作数转换规则。

根据 JLS，当我们计算`a/b`:

*   如果任一操作数是`double,`类型，则另一个被转换为`double.`
*   否则，如果任一操作数的类型为`float,`，则另一个操作数被转换为`float.`
*   否则，如果任一操作数的类型为`long,`，则另一个操作数被转换为`long.`
*   否则，两个操作数都被转换为类型`int.`

根据上面的规则，如果我们想让`a/b`运算产生一个`float`数，那么至少有一个操作数应该是`float. `类型的

那么，接下来，让我们看看当我们将一个操作数强制转换为`float`时，是否能得到预期的结果:

```
float x = (float) 10 / 4;
assertEquals(2.5, x);

float y = 10 / (float) 8;
assertEquals(1.25, y); 
```

如果我们试一试，上面的测试就通过了。因此，**将任意一个操作数赋给`float`，使得除法产生一个`float`结果**。

## 5.结论

在这篇简短的文章中，我们讨论了为什么在 Java 中整数的除法总是产生整数。

此外，我们已经解决了如何从整数除法中获得预期的`float`结果。这对于不可见的情况特别有用。

和往常一样，本文中的所有代码片段都可以在 GitHub 上获得。