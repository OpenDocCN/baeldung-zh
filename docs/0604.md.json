["```\r\n<dependency>\r\n    <groupId>org.springframework.social</groupId>\r\n    <artifactId>spring-social-facebook</artifactId>\r\n    <version>2.0.3.RELEASE</version>\r\n</dependency>\r\n```","```\r\n@Configuration\r\n@EnableWebSecurity\r\n@ComponentScan(basePackages = { \"com.baeldung.security\" })\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) \r\n      throws Exception {\r\n        auth.userDetailsService(userDetailsService);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf().disable()\r\n        .authorizeRequests()\r\n        .antMatchers(\"/login*\").permitAll()\r\n        .anyRequest().authenticated()\r\n        .and()\r\n        .formLogin().loginPage(\"/login\").permitAll();\r\n    } \r\n}\r\n```","```\r\nspring.social.facebook.appId=YOUR_APP_ID\r\nspring.social.facebook.appSecret=YOUR_APP_SECRET\r\n```","```\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private FacebookConnectionSignup facebookConnectionSignup;\r\n\r\n    @Value(\"${spring.social.facebook.appSecret}\")\r\n    String appSecret;\r\n\r\n    @Value(\"${spring.social.facebook.appId}\")\r\n    String appId;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n        .authorizeRequests()\r\n        .antMatchers(\"/login*\",\"/signin/**\",\"/signup/**\").permitAll()\r\n        ...\r\n    } \r\n\r\n    @Bean\r\n    public ProviderSignInController providerSignInController() {\r\n        ConnectionFactoryLocator connectionFactoryLocator = \r\n            connectionFactoryLocator();\r\n        UsersConnectionRepository usersConnectionRepository = \r\n            getUsersConnectionRepository(connectionFactoryLocator);\r\n        ((InMemoryUsersConnectionRepository) usersConnectionRepository)\r\n            .setConnectionSignUp(facebookConnectionSignup);\r\n        return new ProviderSignInController(connectionFactoryLocator, \r\n            usersConnectionRepository, new FacebookSignInAdapter());\r\n    }\r\n\r\n    private ConnectionFactoryLocator connectionFactoryLocator() {\r\n        ConnectionFactoryRegistry registry = new ConnectionFactoryRegistry();\r\n        registry.addConnectionFactory(new FacebookConnectionFactory(appId, appSecret));\r\n        return registry;\r\n    }\r\n\r\n    private UsersConnectionRepository getUsersConnectionRepository(ConnectionFactoryLocator \r\n        connectionFactoryLocator) {\r\n        return new InMemoryUsersConnectionRepository(connectionFactoryLocator);\r\n    }\r\n}\r\n```","```\r\npublic class FacebookSignInAdapter implements SignInAdapter {\r\n    @Override\r\n    public String signIn(\r\n      String localUserId, \r\n      Connection<?> connection, \r\n      NativeWebRequest request) {\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(\r\n          new UsernamePasswordAuthenticationToken(\r\n          connection.getDisplayName(), null, \r\n          Arrays.asList(new SimpleGrantedAuthority(\"FACEBOOK_USER\"))));\r\n\r\n        return null;\r\n    }\r\n}\r\n```","```\r\n@Service\r\npublic class FacebookConnectionSignup implements ConnectionSignUp {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public String execute(Connection<?> connection) {\r\n        User user = new User();\r\n        user.setUsername(connection.getDisplayName());\r\n        user.setPassword(randomAlphabetic(8));\r\n        userRepository.save(user);\r\n        return user.getUsername();\r\n    }\r\n}\r\n```","```\r\n<html>\r\n<body>\r\n<div th:if=\"${param.logout}\">You have been logged out</div>\r\n<div th:if=\"${param.error}\">There was an error, please try again</div>\r\n\r\n<form th:action=\"@{/login}\" method=\"POST\" >\r\n    <input type=\"text\" name=\"username\" />\r\n    <input type=\"password\" name=\"password\" />\r\n    <input type=\"submit\" value=\"Login\" />\r\n</form>\r\n\r\n<form action=\"/signin/facebook\" method=\"POST\">\r\n    <input type=\"hidden\" name=\"scope\" value=\"public_profile\" />\r\n    <input type=\"submit\" value=\"Login using Facebook\"/>\r\n</form>\r\n</body>\r\n</html>\r\n```","```\r\n<html>\r\n<body>\r\n<nav>\r\n    <p sec:authentication=\"name\">Username</p>      \r\n    <a th:href=\"@{/logout}\">Logout</a>                     \r\n</nav>\r\n\r\n<h1>Welcome, <span sec:authentication=\"name\">Username</span></h1>\r\n<p sec:authentication=\"authorities\">User authorities</p>\r\n</body>\r\n</html>\r\n```"]