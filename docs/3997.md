# Java 中的周期和持续时间

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/java-period-duration>

## **1。概述**

在这个快速教程中，我们将看看 Java 8 中引入的两个处理日期的新类:`Period`和`Duration`。

这两个类都可以用来表示时间量或确定两个日期之间的差异。这两个类的主要区别在于，`Period`使用基于日期的值，而`Duration`使用基于时间的值。

## **2。`Period`阶级**

`Period`类使用年、月和日来表示一段时间。

我们可以通过使用`between()`方法获得一个`Period`对象作为两个日期之间的差值:

[PRE0]

然后，我们可以使用方法`getYears(), getMonths(), getDays()`确定周期的日期单位:

[PRE1]

在这种情况下， `isNegative()`方法可用于确定`endDate`是否高于`startDate`，如果任何单位为负，该方法将返回`true`:

[PRE2]

如果`isNegative()`返回假，那么`startDate`早于`endDate`值。

另一种**创建`Period`对象的方法是基于天数、月数、周数或年数**使用专用方法:

[PRE3]

如果只有一个值存在，例如通过使用`ofDays()`方法，则其他单位的值为 0。

在使用`ofWeeks()`方法的情况下，参数值通过乘以 7 来设置天数。

我们还可以通过解析文本序列来**创建一个`Period`对象，该文本序列的格式必须是“PnYnMnD”:**

[PRE4]

周期值可以通过使用形式为`plusX()`和`minusX()`的方法来增加或减少，其中 X 代表日期单位:

[PRE5]

## **3。`Duration`阶级**

`Duration`类表示以秒或纳秒为单位的时间间隔，最适合在需要更高精度的情况下处理更短的时间。

我们可以使用 `between()`方法将两个瞬间的差异确定为一个`Duration`对象:

[PRE6]

然后我们可以使用`getSeconds()`或`getNanoseconds()`方法来确定时间单位的值:

[PRE7]

或者，我们可以从两个 LocalDateTime 实例中获得一个 Duration 实例:

[PRE8]

`isNegative()`方法可用于验证结束时刻是否高于开始时刻:

[PRE9]

我们也可以**基于几个时间单位**获得一个`Duration`对象，使用方法`ofDays(), ofHours(), ofMillis(), ofMinutes(), ofNanos(), ofSeconds()`:

[PRE10]

要基于文本序列创建一个`Duration`对象，其格式必须为“PnDTnHnMn.nS”:

[PRE11]

**可以使用`toDays(), toHours(), toMillis(), toMinutes()`将持续时间转换为其他时间单位**:

[PRE12]

持续时间值可以通过使用形式为`plusX()`或`minusX()`的方法来增加或减少，其中 X 可以代表天、小时、毫秒、分钟、纳秒或秒:

[PRE13]

我们还可以使用带有参数的 `plus()`和`minus()`方法，该参数指定要加或减的`TemporalUnit`:

[PRE14]

## 4.结论

在本教程中，我们已经展示了如何使用`Period`和`Duration`类。

和往常一样，例子的完整源代码可以在 GitHub 上找到[。](https://web.archive.org/web/20221129021232/https://github.com/eugenp/tutorials/tree/master/core-java-modules/core-java-8-datetime)