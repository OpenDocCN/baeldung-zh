["```\r\njar tf target/spring-boot-docker-0.0.1-SNAPSHOT.jar\r\n```","```\r\nBOOT-INF/layers.idx\r\n```","```\r\n- \"dependencies\":\r\n  - \"BOOT-INF/lib/\"\r\n- \"spring-boot-loader\":\r\n  - \"org/\"\r\n- \"snapshot-dependencies\":\r\n- \"application\":\r\n  - \"BOOT-INF/classes/\"\r\n  - \"BOOT-INF/classpath.idx\"\r\n  - \"BOOT-INF/layers.idx\"\r\n  - \"META-INF/\"\r\n```","```\r\njava -Djarmode=layertools -jar target/docker-spring-boot-0.0.1.jar list \r\n```","```\r\ndependencies\r\nspring-boot-loader\r\nsnapshot-dependencies\r\napplication\r\n```","```\r\njava -Djarmode=layertools -jar target/docker-spring-boot-0.0.1.jar extract \r\n```","```\r\n$ ls\r\napplication/\r\nsnapshot-dependencies/\r\ndependencies/\r\nspring-boot-loader/ \r\n```","```\r\nFROM adoptopenjdk:11-jre-hotspot as builder\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} application.jar \r\n```","```\r\nRUN java -Djarmode=layertools -jar application.jar extract \r\n```","```\r\nFROM adoptopenjdk:11-jre-hotspot\r\nCOPY --from=builder dependencies/ ./\r\nCOPY --from=builder snapshot-dependencies/ ./\r\nCOPY --from=builder spring-boot-loader/ ./\r\nCOPY --from=builder application/ ./\r\nENTRYPOINT [\"java\", \"org.springframework.boot.loader.JarLauncher\"]\r\n```","```\r\n<layers \r\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n    xsi:schemaLocation=\"http://www.springframework.org/schema/boot/layers\r\n                     https://www.springframework.org/schema/boot/layers/layers-2.3.xsd\">\r\n    <application>\r\n        <into layer=\"spring-boot-loader\">\r\n            <include>org/springframework/boot/loader/**</include>\r\n        </into>\r\n        <into layer=\"application\" />\r\n    </application>\r\n    <dependencies>\r\n        <into layer=\"snapshot-dependencies\">\r\n            <include>*:*:*SNAPSHOT</include>\r\n        </into>\r\n        <into layer=\"dependencies\" />\r\n    </dependencies>\r\n    <layerOrder>\r\n        <layer>dependencies</layer>\r\n        <layer>spring-boot-loader</layer>\r\n        <layer>snapshot-dependencies</layer>\r\n        <layer>application</layer>\r\n    </layerOrder>\r\n</layers>\r\n```","```\r\n<plugin>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-maven-plugin</artifactId>\r\n    <configuration>\r\n        <layers>\r\n            <enabled>true</enabled>\r\n            <configuration>${project.basedir}/src/layers.xml</configuration>\r\n        </layers>\r\n    </configuration>\r\n</plugin>\r\n```","```\r\n<into layer=\"internal-dependencies\">\r\n    <include>com.baeldung.docker:*:*</include>\r\n</into>\r\n```","```\r\n<layerOrder>\r\n    <layer>internal-dependencies</layer>\r\n</layerOrder>\r\n```","```\r\ndependencies\r\nspring-boot-loader\r\ninternal-dependencies\r\nsnapshot-dependencies\r\napplication \r\n```","```\r\nCOPY --from=builder internal-dependencies/ ./\r\n```","```\r\n$ mvn package\r\n$ docker build -f src/main/docker/Dockerfile . --tag spring-docker-demo\r\n....\r\nStep 8/11 : COPY --from=builder internal-dependencies/ ./\r\n ---> 0e138e074118\r\n..... \r\n```","```\r\n$ docker history --format \"{{.ID}} {{.CreatedBy}} {{.Size}}\" spring-docker-demo\r\nc0d77f6af917 /bin/sh -c #(nop)  ENTRYPOINT [\"java\" \"org.s… 0B\r\n762598a32eb7 /bin/sh -c #(nop) COPY dir:a87b8823d5125bcc4… 7.42kB\r\n80a00930350f /bin/sh -c #(nop) COPY dir:3875f37b8a0ed7494… 0B\r\n0e138e074118 /bin/sh -c #(nop) COPY dir:db6f791338cb4f209… 2.35kB\r\ne079ad66e67b /bin/sh -c #(nop) COPY dir:92a8a991992e9a488… 235kB\r\n77a9401bd813 /bin/sh -c #(nop) COPY dir:f0bcb2a510eef53a7… 16.4MB\r\n2eb37d403188 /bin/sh -c #(nop)  ENV JAVA_HOME=/opt/java/o… 0B\r\n```"]