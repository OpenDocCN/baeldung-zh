# 已用、已提交和最大堆内存的差异

> 原文:[https://web . archive . org/web/20220930061024/https://www . bael dung . com/Java-heap-used-committed-max](https://web.archive.org/web/20220930061024/https://www.baeldung.com/java-heap-used-committed-max)

## 1.概观

在这篇短文中，我们将看到 JVM 中各种内存大小指标之间的差异。

首先，我们将讨论自适应大小调整的工作原理，然后我们将评估最大大小、已用大小和提交大小之间的差异。

## 2.最大尺寸和自适应尺寸

两个值控制 JVM 堆的[大小](/web/20220701022151/https://www.baeldung.com/jvm-parameters) : **一个初始值通过`-Xms `标志指定，另一个最大值由`-Xmx `调优标志**控制。

如果我们不指定这些标志，那么 JVM 将为它们选择默认值。这些默认值取决于底层操作系统、可用 RAM 的数量，当然还有 JVM 实现本身: [![Intial Size](../Images/e9450de433ad878bd75a1d406b8903d3.png)](/web/20220701022151/https://www.baeldung.com/wp-content/uploads/2020/08/Intial-Size.png)

不管实际大小和默认值如何，堆大小都从初始大小开始。随着我们分配更多的对象，堆的大小可能会增加以适应这种情况。但是，堆大小不能超过最大堆大小。

简单地说，**最大堆大小是通过`-Xmx `标志指定的大小。此外，当我们没有明确指定`-Xmx`时，JVM 会计算默认的最大大小**。

## 3.使用尺寸

现在，假设我们在程序启动后分配了一些对象。堆的大小可能会增加一些，以容纳新的对象:

[![Used Space](../Images/9c1643c55444c2417824ff574c26d393.png)](/web/20220701022151/https://www.baeldung.com/wp-content/uploads/2020/08/Used-Space.png)

**已用空间是 Java 对象**当前占用的内存量。它总是小于或等于最大尺寸。

## 4.承诺规模

**提交的大小是保证可供 Java 虚拟机**使用的内存量。提交的内存大小总是大于或等于已用的大小。

## 5.结论

在这篇短文中，我们看到了最大堆大小、已用堆大小和已提交堆大小之间的差异。