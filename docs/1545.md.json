["```\r\n$ java -XX:+PrintFlagsFinal -version | grep -Ei \"maxheapsize|maxram\"\r\n```","```\r\nopenjdk version \"15\" 2020-09-15\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 15+36)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15+36, mixed mode, sharing)\r\n   size_t MaxHeapSize      = 4253024256      {product} {ergonomic}\r\n uint64_t MaxRAM           = 137438953472 {pd product} {default}\r\n    uintx MaxRAMFraction   = 4               {product} {default}\r\n   double MaxRAMPercentage = 25.000000       {product} {default}\r\n   size_t SoftMaxHeapSize  = 4253024256   {manageable} {ergonomic}\r\n```","```\r\npublic static void main(String[] args) {\r\n  int mb = 1024 * 1024;\r\n  MemoryMXBean memoryBean = ManagementFactory.getMemoryMXBean();\r\n  long xmx = memoryBean.getHeapMemoryUsage().getMax() / mb;\r\n  long xms = memoryBean.getHeapMemoryUsage().getInit() / mb;\r\n  LOGGER.log(Level.INFO, \"Initial Memory (xms) : {0}mb\", xms);\r\n  LOGGER.log(Level.INFO, \"Max Memory (xmx) : {0}mb\", xmx);\r\n}\r\n```","```\r\n$ javac ./PrintXmxXms.java\r\n$ java -cp . PrintXmxXms\r\n```","```\r\nINFO: Initial Memory (xms) : 254mb\r\nINFO: Max Memory (xmx) : 4,056mb\r\n```","```\r\nFROM openjdk:8u92-jdk-alpine\r\nCOPY *.java /src/\r\nRUN mkdir /app \\\r\n    && ls /src \\\r\n    && javac /src/PrintXmxXms.java -d /app\r\nCMD [\"sh\", \"-c\", \\\r\n     \"java -version \\\r\n      && java -cp /app PrintXmxXms\"]\r\n```","```\r\n$ docker build -t oldjava .\r\n```","```\r\n$ docker run --rm -ti oldjava\r\nopenjdk version \"1.8.0_92-internal\"\r\nOpenJDK Runtime Environment (build 1.8.0_92-...)\r\nOpenJDK 64-Bit Server VM (build 25.92-b14, mixed mode)\r\nInitial Memory (xms) : 198mb\r\nMax Memory (xmx) : 2814mb \r\n```","```\r\n$ docker run --rm -ti --memory=1g oldjava\r\nopenjdk version \"1.8.0_92-internal\"\r\nOpenJDK Runtime Environment (build 1.8.0_92-...)\r\nOpenJDK 64-Bit Server VM (build 25.92-b14, mixed mode)\r\nInitial Memory (xms) : 198mb\r\nMax Memory (xmx) : 2814mb\r\n```","```\r\nFROM openjdk:8-jdk-alpine\r\n```","```\r\n$ docker build -t newjava .\r\n$ docker run --rm -ti newjava\r\nopenjdk version \"1.8.0_212\"\r\nOpenJDK Runtime Environment (IcedTea 3.12.0) (Alpine 8.212.04-r0)\r\nOpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\r\nInitial Memory (xms) : 198mb\r\nMax Memory (xmx) : 2814mb\r\n```","```\r\n$ docker run --rm -ti --memory=1g newjava\r\nopenjdk version \"1.8.0_212\"\r\nOpenJDK Runtime Environment (IcedTea 3.12.0) (Alpine 8.212.04-r0)\r\nOpenJDK 64-Bit Server VM (build 25.212-b04, mixed mode)\r\nInitial Memory (xms) : 16mb\r\nMax Memory (xmx) : 247mb \r\n```","```\r\nFROM openjdk:8u92-jdk-alpine\r\nCOPY src/ /src/\r\nRUN mkdir /app \\\r\n && ls /src \\\r\n && javac /src/com/baeldung/docker/printxmxxms/PrintXmxXms.java \\\r\n    -d /app\r\nENV JAVA_OPTS=\"\"\r\nCMD java $JAVA_OPTS -cp /app \\ \r\n    com.baeldung.docker.printxmxxms.PrintXmxXms\r\n```","```\r\n$ docker build -t openjdk-java .\r\n```","```\r\n$ docker run --rm -ti -e JAVA_OPTS=\"-Xms50M -Xmx50M\" openjdk-java\r\nINFO: Initial Memory (xms) : 50mb\r\nINFO: Max Memory (xmx) : 48mb \r\n```","```\r\nFROM tomcat:9.0\r\nCOPY ./target/*.war /usr/local/tomcat/webapps/ROOT.war\r\nENV CATALINA_OPTS=\"-Xms1G -Xmx1G\"\r\n```","```\r\n$ docker build -t tomcat .\r\n$ docker run --name tomcat -d -p 8080:8080 \\\r\n  -e CATALINA_OPTS=\"-Xms512M -Xmx512M\" tomcat\r\n```","```\r\n$ docker exec -ti tomcat jps -lv\r\n1 org.apache.catalina.startup.Bootstrap <other options...> -Xms512M -Xmx512M\r\n```","```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n  <groupId>com.baeldung.docker</groupId>\r\n  <artifactId>heapsizing-demo</artifactId>\r\n  <version>0.0.1-SNAPSHOT</version>\r\n  <!-- dependencies... -->\r\n  <build> \r\n    <plugins> \r\n      <plugin> \r\n        <groupId>org.springframework.boot</groupId> \r\n        <artifactId>spring-boot-maven-plugin</artifactId> \r\n        <configuration>\r\n          <image>\r\n            <name>heapsizing-demo</name>\r\n          </image>\r\n   <!-- \r\n    for more options, check:\r\n    https://docs.spring.io/spring-boot/docs/2.4.2/maven-plugin/reference/htmlsingle/#build-image \r\n   -->\r\n        </configuration>\r\n      </plugin>\r\n    </plugins>\r\n  </build>\r\n</project>\r\n```","```\r\n$ ./mvnw clean spring-boot:build-image\r\n```","```\r\n$ docker run --rm -ti -p 8080:8080 \\\r\n  -e JAVA_TOOL_OPTIONS=\"-Xms20M -Xmx20M\" \\\r\n  --memory=1024M heapsizing-demo:0.0.1-SNAPSHOT\r\n```","```\r\nSetting Active Processor Count to 8\r\nCalculated JVM Memory Configuration: [...]\r\n[...]\r\nPicked up JAVA_TOOL_OPTIONS: -Xms20M -Xmx20M \r\n[...]\r\n```","```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n\r\n    <!-- dependencies, ... -->\r\n\r\n    <build>\r\n        <plugins>\r\n            <!-- [ other plugins ] -->\r\n            <plugin>\r\n                <groupId>com.google.cloud.tools</groupId>\r\n                <artifactId>jib-maven-plugin</artifactId>\r\n                <version>2.7.1</version>\r\n                <configuration>\r\n                    <to>\r\n                        <image>heapsizing-demo-jib</image>\r\n                    </to>\r\n                </configuration>\r\n            </plugin>\r\n        </plugins>\r\n    </build>\r\n</project> \r\n```","```\r\n$ mvn clean install && mvn jib:dockerBuild \r\n```","```\r\n$ docker run --rm -ti -p 8080:8080 \\\r\n-e JAVA_TOOL_OPTIONS=\"-Xms50M -Xmx50M\" heapsizing-demo-jib\r\nPicked up JAVA_TOOL_OPTIONS: -Xms50M -Xmx50M\r\n[...]\r\n2021-01-25 17:46:44.070  INFO 1 --- [           main] c.baeldung.docker.XmxXmsDemoApplication  : Started XmxXmsDemoApplication in 1.666 seconds (JVM running for 2.104)\r\n2021-01-25 17:46:44.075  INFO 1 --- [           main] c.baeldung.docker.XmxXmsDemoApplication  : Initial Memory (xms) : 50mb\r\n2021-01-25 17:46:44.075  INFO 1 --- [           main] c.baeldung.docker.XmxXmsDemoApplication  : Max Memory (xmx) : 50mb\r\n```"]