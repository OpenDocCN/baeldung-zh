["```\r\npublic class JarTool {    \r\n    private Manifest manifest = new Manifest();\r\n\r\n    public void startManifest() {\r\n        manifest.getMainAttributes().put(Attributes.Name.MANIFEST_VERSION, \"1.0\");\r\n    }\r\n}\r\n```","```\r\npublic void setMainClass(String mainFQCN) {\r\n    if (mainFQCN != null && !mainFQCN.equals(\"\")) {\r\n        manifest.getMainAttributes().put(Attributes.Name.MAIN_CLASS, mainFQCN);\r\n    }\r\n}\r\n```","```\r\naddToManifest(\"Can-Redefine-Classes\", \"true\");\r\n```","```\r\npublic void addToManifest(String key, String value) {\r\n     manifest.getMainAttributes().put(new Attributes.Name(key), value);\r\n}\r\n```","```\r\npublic JarOutputStream openJar(String jarFile) throws IOException {        \r\n    return new JarOutputStream(new FileOutputStream(jarFile), manifest);\r\n} \r\n```","```\r\npublic void addFile(JarOutputStream target, String rootPath, String source) \r\n  throws FileNotFoundException, IOException {\r\n    String remaining = \"\";\r\n    if (rootPath.endsWith(File.separator)) {\r\n        remaining = source.substring(rootPath.length());\r\n    } else {\r\n        remaining = source.substring(rootPath.length() + 1);\r\n    }\r\n    String name = remaining.replace(\"\\\\\",\"/\");\r\n    JarEntry entry = new JarEntry(name);\r\n    entry.setTime(new File(source).lastModified());\r\n    target.putNextEntry(entry);\r\n\r\n    BufferedInputStream in = new BufferedInputStream(new FileInputStream(source));\r\n    byte[] buffer = new byte[1024];\r\n    while (true) {\r\n        int count = in.read(buffer);\r\n        if (count == -1) {\r\n            break;\r\n        }\r\n        target.write(buffer, 0, count);\r\n    }\r\n    target.closeEntry();\r\n    in.close();\r\n}\r\n```","```\r\npublic class Driver {\r\n    public static void main(String[] args) throws IOException {\r\n        JarTool tool = new JarTool();\r\n        tool.startManifest();\r\n        tool.addToManifest(\"Main-Class\", \"com.baeldung.createjar.HelloWorld\");\r\n\r\n        JarOutputStream target = tool.openJar(\"HelloWorld.jar\");\r\n\r\n        tool.addFile(target, System.getProperty(\"user.dir\") + \"\\\\src\\\\main\\\\java\",\r\n          System.getProperty(\"user.dir\") + \"\\\\src\\\\main\\\\java\\\\com\\\\baeldung\\\\createjar\\\\HelloWorld.class\");\r\n        target.close();\r\n    }\r\n}\r\n```","```\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(\"Hello World!\");\r\n    }\r\n} \r\n```","```\r\n$ javac -cp src/main/java src/main/java/com/baeldung/createjar/HelloWorld.java\r\n$ javac -cp src/main/java src/main/java/com/baeldung/createjar/JarTool.java\r\n$ javac -cp src/main/java src/main/java/com/baeldung/createjar/Driver.java\r\n$ java -cp src/main/java com/baeldung/createjar/Driver\r\n$ java -jar HelloWorld.jar\r\nHello World! \r\n```"]