["```\r\npublic class LargeObjectFinalizer extends PhantomReference<Object> {\r\n\r\n    public LargeObjectFinalizer(\r\n      Object referent, ReferenceQueue<? super Object> q) {\r\n        super(referent, q);\r\n    }\r\n\r\n    public void finalizeResources() {\r\n        // free resources\r\n        System.out.println(\"clearing ...\");\r\n    }\r\n}\r\n```","```\r\nReferenceQueue<Object> referenceQueue = new ReferenceQueue<>();\r\nList<LargeObjectFinalizer> references = new ArrayList<>();\r\nList<Object> largeObjects = new ArrayList<>();\r\n\r\nfor (int i = 0; i < 10; ++i) {\r\n    Object largeObject = new Object();\r\n    largeObjects.add(largeObject);\r\n    references.add(new LargeObjectFinalizer(largeObject, referenceQueue));\r\n}\r\n\r\nlargeObjects = null;\r\nSystem.gc();\r\n\r\nReference<?> referenceFromQueue;\r\nfor (PhantomReference<Object> reference : references) {\r\n    System.out.println(reference.isEnqueued());\r\n}\r\n\r\nwhile ((referenceFromQueue = referenceQueue.poll()) != null) {\r\n    ((LargeObjectFinalizer)referenceFromQueue).finalizeResources();\r\n    referenceFromQueue.clear();\r\n} \r\n```"]