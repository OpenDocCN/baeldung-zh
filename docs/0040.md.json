["```\r\npublic class EmailService {\r\n\r\n    private DeliveryPlatform platform;\r\n\r\n    public EmailService(DeliveryPlatform platform) {\r\n        this.platform = platform;\r\n    }\r\n\r\n    public void send(String to, String subject, String body, boolean html) {\r\n        Format format = Format.TEXT_ONLY;\r\n        if (html) {\r\n            format = Format.HTML;\r\n        }\r\n        Email email = new Email(to, subject, body);\r\n        email.setFormat(format);\r\n        platform.deliver(email);\r\n    }\r\n\r\n    ...\r\n}\r\n```","```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class EmailServiceUnitTest {\r\n\r\n    @Mock\r\n    DeliveryPlatform platform;\r\n\r\n    @InjectMocks\r\n    EmailService emailService;\r\n\r\n    ...\r\n}\r\n```","```\r\n@Captor\r\nArgumentCaptor<Email> emailCaptor;\r\n```","```\r\nMockito.verify(platform).deliver(emailCaptor.capture());\r\n```","```\r\nEmail emailCaptorValue = emailCaptor.getValue();\r\n```","```\r\n@Test\r\npublic void whenDoesSupportHtml_expectHTMLEmailFormat() {\r\n    String to = \"[[emailÂ protected]](/web/20221108185122/https://www.baeldung.com/cdn-cgi/l/email-protection)\";\r\n    String subject = \"Using ArgumentCaptor\";\r\n    String body = \"Hey, let'use ArgumentCaptor\";\r\n\r\n    emailService.send(to, subject, body, true);\r\n\r\n    Mockito.verify(platform).deliver(emailCaptor.capture());\r\n    Email value = emailCaptor.getValue();\r\n    assertThat(value.getFormat()).isEqualTo(Format.HTML);\r\n}\r\n```","```\r\nCredentials credentials = new Credentials(\"baeldung\", \"correct_password\", \"correct_key\");\r\nMockito.when(platform.authenticate(Mockito.eq(credentials)))\r\n  .thenReturn(AuthenticationStatus.AUTHENTICATED);\r\n\r\nassertTrue(emailService.authenticatedSuccessfully(credentials));\r\n```","```\r\nCredentials credentials = new Credentials(\"baeldung\", \"correct_password\", \"correct_key\");\r\nMockito.when(platform.authenticate(credentialsCaptor.capture()))\r\n  .thenReturn(AuthenticationStatus.AUTHENTICATED);\r\n\r\nassertTrue(emailService.authenticatedSuccessfully(credentials));\r\nassertEquals(credentials, credentialsCaptor.getValue());\r\n```","```\r\norg.mockito.exceptions.base.MockitoException: \r\nNo argument value was captured!\r\n```"]