["```\r\nQuery query = entityManager.createQuery(\"From Foo\");\r\nint pageNumber = 1;\r\nint pageSize = 10;\r\nquery.setFirstResult((pageNumber-1) * pageSize); \r\nquery.setMaxResults(pageSize);\r\nList <Foo> fooList = query.getResultList();\r\n```","```\r\nQuery queryTotal = entityManager.createQuery\r\n    (\"Select count(f.id) from Foo f\");\r\nlong countResult = (long)queryTotal.getSingleResult();\r\n```","```\r\nint pageSize = 10;\r\nint pageNumber = (int) ((countResult / pageSize) + 1);\r\n```","```\r\nQuery queryForIds = entityManager.createQuery(\r\n  \"Select f.id from Foo f order by f.lastName\");\r\nList<Integer> fooIds = queryForIds.getResultList();\r\nQuery query = entityManager.createQuery(\r\n  \"Select f from Foo e where f.id in :ids\");\r\nquery.setParameter(\"ids\", fooIds.subList(0,10));\r\nList<Foo> fooList = query.getResultList();\r\n```","```\r\nint pageSize = 10;\r\nCriteriaBuilder criteriaBuilder = entityManager\r\n  .getCriteriaBuilder();\r\nCriteriaQuery<Foo> criteriaQuery = criteriaBuilder\r\n  .createQuery(Foo.class);\r\nRoot<Foo> from = criteriaQuery.from(Foo.class);\r\nCriteriaQuery<Foo> select = criteriaQuery.select(from);\r\nTypedQuery<Foo> typedQuery = entityManager.createQuery(select);\r\ntypedQuery.setFirstResult(0);\r\ntypedQuery.setMaxResults(pageSize);\r\nList<Foo> fooList = typedQuery.getResultList();\r\n```","```\r\nCriteriaQuery<Long> countQuery = criteriaBuilder\r\n  .createQuery(Long.class);\r\ncountQuery.select(criteriaBuilder.count(\r\n  countQuery.from(Foo.class)));\r\nLong count = entityManager.createQuery(countQuery)\r\n  .getSingleResult();\r\n```","```\r\nint pageNumber = 1;\r\nint pageSize = 10;\r\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\r\nCriteriaQuery<Long> countQuery = criteriaBuilder\r\n  .createQuery(Long.class);\r\ncountQuery.select(criteriaBuilder\r\n  .count(countQuery.from(Foo.class)));\r\nLong count = entityManager.createQuery(countQuery)\r\n  .getSingleResult();\r\n\r\nCriteriaQuery<Foo> criteriaQuery = criteriaBuilder\r\n  .createQuery(Foo.class);\r\nRoot<Foo> from = criteriaQuery.from(Foo.class);\r\nCriteriaQuery<Foo> select = criteriaQuery.select(from);\r\n\r\nTypedQuery<Foo> typedQuery = entityManager.createQuery(select);\r\nwhile (pageNumber < count.intValue()) {\r\n    typedQuery.setFirstResult(pageNumber - 1);\r\n    typedQuery.setMaxResults(pageSize);\r\n    System.out.println(\"Current page: \" + typedQuery.getResultList());\r\n    pageNumber += pageSize;\r\n}\r\n```"]