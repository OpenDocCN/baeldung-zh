# 番石榴–写入文件，从文件中读取

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/guava-write-to-file-read-from-file>

## **1。概述**

在本教程中，我们将学习如何使用 **Guava IO** 写入文件，然后读取文件。我们将讨论如何写入文件。

## **2。用`Files`写**

让我们从一个简单的例子开始，使用`Files`将`String`写入文件:

[PRE0]

请注意，我们还可以使用`Files.append()` API 将**附加到现有文件**中。

## **3。使用`CharSink`** 写入文件

接下来——让我们看看如何使用`CharSink`将`String`写入文件。在下面的例子中——我们使用`Files.asCharSink()`从一个文件中获得一个`CharSink`,然后用它来写:

[PRE1]

我们也可以使用`CharSink`向一个文件中写入多行。在下面的例子中，我们写了一个名称的`List`,并使用一个空格作为行分隔符:

[PRE2]

## **4。使用`ByteSink`** 写入文件

我们也可以使用`ByteSink`写入原始字节。在下面的例子中——我们使用`Files.asByteSink()`从一个文件中获得一个`ByteSink`,然后用它来写:

[PRE3]

注意，我们可以通过使用简单的转换`byteSink.asCharSink()`在`ByteSink`和`CharSink`之间移动。

## **5。使用`Files`** 从文件中读取

接下来，让我们讨论如何使用文件读取文件。

在下面的例子中，我们使用简单的`Files.toString():`来读取文件的所有内容

[PRE4]

我们也可以将文件读入一个`List`行，如下例所示:

[PRE5]

注意，我们可以使用`Files.readFirstLine()`只读取文件的第一行。

## **6。使用`CharSource`** 从文件中读取

接下来，让我们看看如何使用 Charsource 读取文件。

在下面的例子中——我们使用`Files.asCharSource()`从一个文件中获取一个`CharSource`,然后使用`read()`用它来读取所有文件内容:

[PRE6]

我们还可以连接两个 CharSources，并将它们用作一个`CharSource`。

在下面的例子中，我们读取两个文件，第一个包含“`Hello world`”，另一个包含“`Test`”:

[PRE7]

## **7。使用`CharStreams`** 从文件中读取

现在——让我们看看如何使用`CharStreams`,通过中介`FileReader`将文件的内容读入`String`:

[PRE8]

## **8。使用`ByteSource`** 从文件中读取

我们可以将`ByteSource`用于原始字节格式的文件内容——如下例所示:

[PRE9]

我们还可以使用`slice()`在特定偏移之后开始读取字节，如下例所示:

[PRE10]

注意，我们可以使用`byteSource.asCharSource()`来获得这个`ByteSource`的`CharSource`视图。

## **9。使用`ByteStreams`** 从文件中读取

接下来——让我们看看如何使用`ByteStreams`将文件内容读入原始字节数组；我们将使用中介`FileInputStream`来执行转换:

[PRE11]

## **10。使用`Resources`阅读**

最后——让我们看看如何读取类路径中存在的文件——使用`Resources`实用程序，如下例所示:

[PRE12]

## **11。结论**

在这个快速教程中，我们展示了使用 Guava IO 支持和实用程序来**读写文件的各种方法。**

所有这些示例和代码片段的实现可以在[我的番石榴 github 项目](https://web.archive.org/web/20221112110354/https://github.com/eugenp/tutorials/tree/master/guava-modules/guava-io "The Github Project with the impl of all examples using Guava Collections") 中找到——这是一个基于 Eclipse 的项目，所以它应该很容易导入和运行。