["```\r\n@Component(\"springClient\")\r\npublic class SpringExistingClient {\r\n\r\n    @Value(\"${remoteservice.timeout}\")\r\n    private int remoteServiceDelay;\r\n\r\n    public String invokeRemoteServiceWithOutHystrix() throws InterruptedException {\r\n        return new RemoteServiceTestSimulator(remoteServiceDelay).execute();\r\n    }\r\n}\r\n```","```\r\n@Around(\"@annotation(com.baeldung.hystrix.HystrixCircuitBreaker)\")\r\npublic Object circuitBreakerAround(ProceedingJoinPoint aJoinPoint) {\r\n    return new RemoteServiceCommand(config, aJoinPoint).execute();\r\n}\r\n```","```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface HystrixCircuitBreaker {}\r\n```","```\r\nprivate static class RemoteServiceCommand extends HystrixCommand<String> {\r\n\r\n    private ProceedingJoinPoint joinPoint;\r\n\r\n    RemoteServiceCommand(Setter config, ProceedingJoinPoint joinPoint) {\r\n        super(config);\r\n        this.joinPoint = joinPoint;\r\n    }\r\n\r\n    @Override\r\n    protected String run() throws Exception {\r\n        try {\r\n            return (String) joinPoint.proceed();\r\n        } catch (Throwable th) {\r\n            throw new Exception(th);\r\n        }\r\n    }\r\n}\r\n```","```\r\n@HystrixCircuitBreaker\r\npublic String invokeRemoteServiceWithHystrix() throws InterruptedException{\r\n    return new RemoteServiceTestSimulator(remoteServiceDelay).execute();\r\n}\r\n```","```\r\npublic class SpringAndHystrixIntegrationTest {\r\n\r\n    @Autowired\r\n    private HystrixController hystrixController;\r\n\r\n    @Test(expected = HystrixRuntimeException.class)\r\n    public void givenTimeOutOf15000_whenClientCalledWithHystrix_thenExpectHystrixRuntimeException()\r\n      throws InterruptedException {\r\n        hystrixController.withHystrix();\r\n    }\r\n\r\n    @Test\r\n    public void givenTimeOutOf15000_whenClientCalledWithOutHystrix_thenExpectSuccess()\r\n      throws InterruptedException {\r\n        assertThat(hystrixController.withOutHystrix(), equalTo(\"Success\"));\r\n    }\r\n} \r\n```"]