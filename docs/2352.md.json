["```\r\n@Entity\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(nullable = false)\r\n    private String title;\r\n\r\n    private String isbn;\r\n\r\n    @ManyToMany(mappedBy = \"books\", fetch = FetchType.EAGER)\r\n    private List<Author> authors;\r\n}\r\n```","```\r\n@Entity\r\npublic class Author {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n      name = \"book_author\", \r\n      joinColumns = @JoinColumn(\r\n        name = \"book_id\", referencedColumnName = \"id\"), \r\n      inverseJoinColumns = @JoinColumn(\r\n        name = \"author_id\", referencedColumnName = \"id\"))\r\n    private List<Book> books;\r\n}\r\n```","```\r\npublic interface BookRepository extends CrudRepository<Book, Long> {}\r\n```","```\r\npublic interface AuthorRepository extends CrudRepository<Author, Long> {}\r\n```","```\r\n{\r\n  \"title\" : \"Animal Farm\",\r\n  \"isbn\" : \"978-1943138425\",\r\n  \"_links\" : {\r\n    \"self\" : {\r\n      \"href\" : \"http://localhost:8080/books/1\"\r\n    },\r\n    \"book\" : {\r\n      \"href\" : \"http://localhost:8080/books/1\"\r\n    },\r\n    \"authors\" : {\r\n      \"href\" : \"http://localhost:8080/books/1/authors\"\r\n    }\r\n  }\r\n}\r\n```","```\r\n@Projection(\r\n  name = \"customBook\", \r\n  types = { Book.class }) \r\npublic interface CustomBook { \r\n    String getTitle();\r\n}\r\n```","```\r\n{\r\n  \"title\" : \"Animal Farm\",\r\n  \"isbn\" : \"978-1943138425\",\r\n  \"_links\" : {\r\n    \"self\" : {\r\n      \"href\" : \"http://localhost:8080/books/1\"\r\n    },\r\n    \"book\" : {\r\n      \"href\" : \"http://localhost:8080/books/1{?projection}\",\r\n      \"templated\" : true\r\n    },\r\n    \"authors\" : {\r\n      \"href\" : \"http://localhost:8080/books/1/authors\"\r\n    }\r\n  }\r\n}\r\n```","```\r\n{\r\n  \"title\" : \"Animal Farm\",\r\n  \"_links\" : {\r\n    \"self\" : {\r\n      \"href\" : \"http://localhost:8080/books/1\"\r\n    },\r\n    \"book\" : {\r\n      \"href\" : \"http://localhost:8080/books/1{?projection}\",\r\n      \"templated\" : true\r\n    },\r\n    \"authors\" : {\r\n      \"href\" : \"http://localhost:8080/books/1/authors\"\r\n    }\r\n  }\r\n}\r\n```","```\r\n@Configuration\r\npublic class RestConfig implements RepositoryRestConfigurer {\r\n\r\n    @Override\r\n    public void configureRepositoryRestConfiguration(\r\n      RepositoryRestConfiguration repositoryRestConfiguration, CorsRegistry cors) {\r\n        repositoryRestConfiguration.getProjectionConfiguration()\r\n          .addProjection(CustomBook.class);\r\n    }\r\n}\r\n```","```\r\n@Projection(\r\n  name = \"customBook\", \r\n  types = { Book.class }) \r\npublic interface CustomBook {\r\n    @Value(\"#{target.id}\")\r\n    long getId(); \r\n\r\n    String getTitle();\r\n}\r\n```","```\r\n{\r\n  \"id\" : 1,\r\n  \"title\" : \"Animal Farm\",\r\n  \"_links\" : {\r\n     ...\r\n  }\r\n}\r\n```","```\r\n@Projection(name = \"customBook\", types = { Book.class }) \r\npublic interface CustomBook {\r\n\r\n    @Value(\"#{target.id}\")\r\n    long getId(); \r\n\r\n    String getTitle();\r\n\r\n    @Value(\"#{target.getAuthors().size()}\")\r\n    int getAuthorCount();\r\n}\r\n```","```\r\n{\r\n  \"id\" : 1,\r\n  \"title\" : \"Animal Farm\",\r\n  \"authorCount\" : 1,\r\n  \"_links\" : {\r\n     ...\r\n  }\r\n}\r\n```","```\r\n@Projection(\r\n  name = \"customBook\", \r\n  types = { Book.class }) \r\npublic interface CustomBook {\r\n\r\n    @Value(\"#{target.id}\")\r\n    long getId(); \r\n\r\n    String getTitle();\r\n\r\n    List<Author> getAuthors();\r\n\r\n    @Value(\"#{target.getAuthors().size()}\")\r\n    int getAuthorCount();\r\n}\r\n```","```\r\n{\r\n  \"id\" : 1,\r\n  \"title\" : \"Animal Farm\",\r\n  \"authors\" : [ {\r\n    \"name\" : \"George Orwell\"\r\n  } ],\r\n  \"authorCount\" : 1,\r\n  \"_links\" : {\r\n    \"self\" : {\r\n      \"href\" : \"http://localhost:8080/books/1\"\r\n    },\r\n    \"book\" : {\r\n      \"href\" : \"http://localhost:8080/books/1{?projection}\",\r\n      \"templated\" : true\r\n    },\r\n    \"authors\" : {\r\n      \"href\" : \"http://localhost:8080/books/1/authors\"\r\n    }\r\n  }\r\n}\r\n```","```\r\n@RepositoryRestResource(excerptProjection = CustomBook.class)\r\npublic interface BookRepository extends CrudRepository<Book, Long> {}\r\n```","```\r\n{\r\n  \"_embedded\" : {\r\n    \"books\" : [ {\r\n      \"id\" : 1,\r\n      \"title\" : \"Animal Farm\",\r\n      \"authors\" : [ {\r\n        \"name\" : \"George Orwell\"\r\n      } ],\r\n      \"authorCount\" : 1,\r\n      \"_links\" : {\r\n        \"self\" : {\r\n          \"href\" : \"http://localhost:8080/books/1\"\r\n        },\r\n        \"book\" : {\r\n          \"href\" : \"http://localhost:8080/books/1{?projection}\",\r\n          \"templated\" : true\r\n        },\r\n        \"authors\" : {\r\n          \"href\" : \"http://localhost:8080/books/1/authors\"\r\n        }\r\n      }\r\n    } ]\r\n  },\r\n  \"_links\" : {\r\n    \"self\" : {\r\n      \"href\" : \"http://localhost:8080/books\"\r\n    },\r\n    \"profile\" : {\r\n      \"href\" : \"http://localhost:8080/profile/books\"\r\n    }\r\n  }\r\n}\r\n```","```\r\n{\r\n  \"_embedded\" : {\r\n    \"books\" : [ {\r\n      \"id\" : 1,\r\n      \"authors\" : [ {\r\n        \"name\" : \"George Orwell\"\r\n      } ],\r\n      \"authorCount\" : 1,\r\n      \"title\" : \"Animal Farm\",\r\n      \"_links\" : {\r\n        \"self\" : {\r\n          \"href\" : \"http://localhost:8080/books/1\"\r\n        },\r\n        \"book\" : {\r\n          \"href\" : \"http://localhost:8080/books/1{?projection}\",\r\n          \"templated\" : true\r\n        },\r\n        \"authors\" : {\r\n          \"href\" : \"http://localhost:8080/books/1/authors\"\r\n        }\r\n      }\r\n    } ]\r\n  },\r\n  \"_links\" : {\r\n    \"self\" : {\r\n      \"href\" : \"http://localhost:8080/authors/1/books\"\r\n    }\r\n  }\r\n}\r\n```"]