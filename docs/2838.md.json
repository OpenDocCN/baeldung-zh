["```\r\n<dependency>\r\n    <groupId>com.h2database</groupId>\r\n    <artifactId>h2</artifactId>\r\n    <version>1.4.200</version>\r\n</dependency>\r\n```","```\r\npublic class JdbcInsertIdIntegrationTest {\r\n\r\n    private static Connection connection;\r\n\r\n    @BeforeClass\r\n    public static void setUp() throws Exception {\r\n        connection = DriverManager.getConnection(\"jdbc:h2:mem:generated-keys\", \"sa\", \"\");\r\n        connection\r\n          .createStatement()\r\n          .execute(\"create table persons(id bigint auto_increment, name varchar(255))\");\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDown() throws SQLException {\r\n        connection\r\n          .createStatement()\r\n          .execute(\"drop table persons\");\r\n        connection.close();\r\n    }\r\n\r\n    // omitted\r\n}\r\n```","```\r\nString QUERY = \"insert into persons (name) values (?)\";\r\ntry (PreparedStatement statement = connection.prepareStatement(QUERY, Statement.RETURN_GENERATED_KEYS)) {\r\n    statement.setString(1, \"Foo\");\r\n    int affectedRows = statement.executeUpdate();\r\n    assertThat(affectedRows).isPositive();\r\n\r\n    // omitted\r\n} catch (SQLException e) {\r\n    // handle the database related exception appropriately\r\n}\r\n```","```\r\ntry (ResultSet keys = statement.getGeneratedKeys()) {\r\n    assertThat(keys.next()).isTrue();\r\n    assertThat(keys.getLong(1)).isGreaterThanOrEqualTo(1);\r\n}\r\n```","```\r\ntry (Statement statement = connection.createStatement()) {\r\n    String query = \"insert into persons (name) values ('Foo')\";\r\n    int affectedRows = statement.executeUpdate(query, Statement.RETURN_GENERATED_KEYS);\r\n    assertThat(affectedRows).isPositive();\r\n\r\n    try (ResultSet keys = statement.getGeneratedKeys()) {\r\n        assertThat(keys.next()).isTrue();\r\n        assertThat(keys.getLong(1)).isGreaterThanOrEqualTo(1);\r\n    }\r\n}\r\n```","```\r\ntry (PreparedStatement statement = connection.prepareStatement(QUERY, new String[] { \"id\" })) {\r\n    statement.setString(1, \"Foo\");\r\n    int affectedRows = statement.executeUpdate();\r\n    assertThat(affectedRows).isPositive();\r\n\r\n    // omitted\r\n}\r\n```","```\r\ntry (ResultSet keys = statement.getGeneratedKeys()) {\r\n    assertThat(keys.next()).isTrue();\r\n    assertThat(keys.getLong(1)).isGreaterThanOrEqualTo(1);\r\n}\r\n```","```\r\ntry (Statement statement = connection.createStatement()) {\r\n    int affectedRows = statement.executeUpdate(\"insert into persons (name) values ('Foo')\", \r\n      new String[] { \"id\" });\r\n    assertThat(affectedRows).isPositive();\r\n\r\n    try (ResultSet keys = statement.getGeneratedKeys()) {\r\n        assertThat(keys.next()).isTrue();\r\n        assertThat(keys.getLong(1)).isGreaterThanOrEqualTo(1);\r\n    }\r\n}\r\n```"]