["```\r\n<dependency>\r\n    <groupId>com.google.guava</groupId>\r\n    <artifactId>guava</artifactId>\r\n    <version>31.0.1-jre</version>\r\n</dependency>\r\n```","```\r\n/** Returns the number of bytes written. */\r\npublic long getCount() {\r\n    return count;\r\n}\r\n```","```\r\npublic class GuavaCountingOutputStreamUnitTest {\r\n    static int MAX = 5;\r\n\r\n    @Test(expected = RuntimeException.class)\r\n    public void givenData_whenCountReachesLimit_thenThrowException()\r\n      throws Exception {\r\n\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        CountingOutputStream cos = new CountingOutputStream(out);\r\n\r\n        byte[] data = new byte[1024];\r\n        ByteArrayInputStream in = new ByteArrayInputStream(data);\r\n\r\n        int b;\r\n        while ((b = in.read()) != -1) {\r\n            cos.write(b);\r\n            if (cos.getCount() >= MAX) {\r\n                throw new RuntimeException(\"Write limit reached\");\r\n            }\r\n        }\r\n    }\r\n} \r\n```"]