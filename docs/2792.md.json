["```\r\n@Test(expected = ConcurrentModificationException.class)\r\npublic void whenRemoveAndAddOnHashMap_thenConcurrentModificationError() {\r\n    Map<Integer, String> map = new HashMap<>();\r\n    map.put(1, \"baeldung\");\r\n    map.put(2, \"HashMap\");\r\n    Map<Integer, String> synchronizedMap = Collections.synchronizedMap(map);\r\n    Iterator<Entry<Integer, String>> iterator = synchronizedMap.entrySet().iterator();\r\n    while (iterator.hasNext()) {\r\n        synchronizedMap.put(3, \"Modification\");\r\n        iterator.next();\r\n    }\r\n}\r\n```","```\r\nMap<Integer, String> map = new ConcurrentHashMap<>();\r\nmap.put(1, \"baeldung\");\r\nmap.put(2, \"HashMap\");\r\n\r\nIterator<Entry<Integer, String>> iterator = map.entrySet().iterator();\r\nwhile (iterator.hasNext()) {\r\n    map.put(3, \"Modification\");\r\n    iterator.next()\r\n}\r\n\r\nAssert.assertEquals(3, map.size());\r\n```","```\r\n@Test(expected = NullPointerException.class)\r\npublic void allowNullKey_In_ConcurrentHasMap() {\r\n    Map<String, Integer> map = new ConcurrentHashMap<>();\r\n    map.put(null, 1);\r\n}\r\n```","```\r\nMap<String, Integer> map = Collections\r\n  .synchronizedMap(new HashMap<String, Integer>());\r\nmap.put(null, 1);\r\nAssert.assertTrue(map.get(null).equals(1));\r\n```","```\r\n@Benchmark\r\npublic void randomReadAndWriteSynchronizedMap() {\r\n    Map<String, Integer> map = Collections.synchronizedMap(new HashMap<String, Integer>());\r\n    performReadAndWriteTest(map);\r\n}\r\n\r\n@Benchmark\r\npublic void randomReadAndWriteConcurrentHashMap() {\r\n    Map<String, Integer> map = new ConcurrentHashMap<>();\r\n    performReadAndWriteTest(map);\r\n}\r\n\r\nprivate void performReadAndWriteTest(final Map<String, Integer> map) {\r\n    for (int i = 0; i < TEST_NO_ITEMS; i++) {\r\n        Integer randNumber = (int) Math.ceil(Math.random() * TEST_NO_ITEMS);\r\n        map.get(String.valueOf(randNumber));\r\n        map.put(String.valueOf(randNumber), randNumber);\r\n    }\r\n} \r\n```","```\r\nBenchmark                                                     Mode  Cnt        Score        Error  Units\r\nMapPerformanceComparison.randomReadAndWriteConcurrentHashMap  avgt  100  3061555.822 ±  84058.268  ns/op\r\nMapPerformanceComparison.randomReadAndWriteSynchronizedMap    avgt  100  3234465.857 ±  60884.889  ns/op\r\nMapPerformanceComparison.randomReadConcurrentHashMap          avgt  100  2728614.243 ± 148477.676  ns/op\r\nMapPerformanceComparison.randomReadSynchronizedMap            avgt  100  3471147.160 ± 174361.431  ns/op\r\nMapPerformanceComparison.randomWriteConcurrentHashMap         avgt  100  3081447.009 ±  69533.465  ns/op\r\nMapPerformanceComparison.randomWriteSynchronizedMap           avgt  100  3385768.422 ± 141412.744  ns/op\r\n```"]