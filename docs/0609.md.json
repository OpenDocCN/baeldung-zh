["```\r\n$>aws s3 mb s3://baeldung-sam-bucket\r\n```","```\r\nAWSTemplateFormatVersion: '2010-09-09'\r\nTransform: 'AWS::Serverless-2016-10-31'\r\nDescription: Baeldung Serverless Application Model example\r\n\r\nResources:\r\n  PersonTable:\r\n    Type: AWS::Serverless::SimpleTable\r\n    Properties:\r\n      # Define table properties here\r\n  StorePersonFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      # Define function properties here\r\n  GetPersonByHTTPParamFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      # Define function properties here\r\n  MyApi:\r\n    Type: AWS::Serverless::Api\r\n    Properties:\r\n      # Define API properties here\r\n```","```\r\nAWSTemplateFormatVersion: '2010-09-09'\r\nTransform: 'AWS::Serverless-2016-10-31'\r\nDescription: Baeldung Serverless Application Model example\r\n\r\nResources:\r\n  PersonTable:\r\n    Type: AWS::Serverless::SimpleTable\r\n    Properties:\r\n      PrimaryKey:\r\n          Name: id\r\n          Type: Number\r\n      TableName: Person\r\n```","```\r\nAWSTemplateFormatVersion: '2010-09-09'\r\nTransform: 'AWS::Serverless-2016-10-31'\r\nDescription: Baeldung Serverless Application Model example\r\n\r\nResources:\r\n  StorePersonFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Handler: com.baeldung.lambda.apigateway.APIDemoHandler::handleRequest\r\n      Runtime: java8\r\n      Timeout: 15\r\n      MemorySize: 512\r\n      CodeUri: ../target/aws-lambda-0.1.0-SNAPSHOT.jar\r\n      Policies: DynamoDBCrudPolicy\r\n      Environment:\r\n        Variables:\r\n          TABLE_NAME: !Ref PersonTable\r\n      Events:\r\n        StoreApi:\r\n          Type: Api\r\n            Properties:\r\n              Path: /persons\r\n              Method: PUT\r\n              RestApiId:\r\n                Ref: MyApi\r\n  GetPersonByHTTPParamFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Handler: com.baeldung.lambda.apigateway.APIDemoHandler::handleGetByParam\r\n      Runtime: java8\r\n      Timeout: 15\r\n      MemorySize: 512\r\n      CodeUri: ../target/aws-lambda-0.1.0-SNAPSHOT.jar\r\n      Policies: DynamoDBReadPolicy\r\n      Environment:\r\n        Variables:\r\n          TABLE_NAME: !Ref PersonTable\r\n      Events:\r\n        GetByPathApi:\r\n          Type: Api\r\n            Properties:\r\n              Path: /persons/{id}\r\n              Method: GET\r\n              RestApiId:\r\n                Ref: MyApi\r\n        GetByQueryApi:\r\n          Type: Api\r\n            Properties:\r\n              Path: /persons\r\n              Method: GET\r\n              RestApiId:\r\n                Ref: MyApi\r\n```","```\r\nAWSTemplateFormatVersion: '2010-09-09'\r\nTransform: 'AWS::Serverless-2016-10-31'\r\nDescription: Baeldung Serverless Application Model example\r\n\r\nResources:\r\n  MyApi:\r\n    Type: AWS::Serverless::Api\r\n    Properties:\r\n      StageName: test\r\n      EndpointConfiguration: REGIONAL\r\n      DefinitionBody:\r\n        swagger: \"2.0\"\r\n        info:\r\n          title: \"TestAPI\"\r\n        paths:\r\n          /persons:\r\n            get:\r\n              parameters:\r\n              - name: \"id\"\r\n                in: \"query\"\r\n                required: true\r\n                type: \"string\"\r\n              x-amazon-apigateway-request-validator: \"Validate query string parameters and\\\r\n                \\ headers\"\r\n              x-amazon-apigateway-integration:\r\n                uri:\r\n                  Fn::Sub: arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${GetPersonByHTTPParamFunction.Arn}/invocations\r\n                responses: {}\r\n                httpMethod: \"POST\"\r\n                type: \"aws_proxy\"\r\n            put:\r\n              x-amazon-apigateway-integration:\r\n                uri:\r\n                  Fn::Sub: arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${StorePersonFunction.Arn}/invocations\r\n                responses: {}\r\n                httpMethod: \"POST\"\r\n                type: \"aws_proxy\"\r\n          /persons/{id}:\r\n            get:\r\n              parameters:\r\n              - name: \"id\"\r\n                in: \"path\"\r\n                required: true\r\n                type: \"string\"\r\n              responses: {}\r\n              x-amazon-apigateway-integration:\r\n                uri:\r\n                  Fn::Sub: arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${GetPersonByHTTPParamFunction.Arn}/invocations\r\n                responses: {}\r\n                httpMethod: \"POST\"\r\n                type: \"aws_proxy\"\r\n        x-amazon-apigateway-request-validators:\r\n          Validate query string parameters and headers:\r\n            validateRequestParameters: true\r\n            validateRequestBody: false\r\n```","```\r\nAWSTemplateFormatVersion: '2010-09-09'\r\nTransform: 'AWS::Serverless-2016-10-31'\r\nDescription: Baeldung Serverless Application Model Example with Implicit API Definition\r\n\r\nGlobals:\r\n  Api:\r\n    EndpointConfiguration: REGIONAL\r\n    Name: \"TestAPI\"\r\n\r\nResources:\r\n  StorePersonFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Handler: com.baeldung.lambda.apigateway.APIDemoHandler::handleRequest\r\n      Runtime: java8\r\n      Timeout: 15\r\n      MemorySize: 512\r\n      CodeUri: ../target/aws-lambda-0.1.0-SNAPSHOT.jar\r\n      Policies:\r\n        - DynamoDBCrudPolicy:\r\n            TableName: !Ref PersonTable\r\n      Environment:\r\n        Variables:\r\n          TABLE_NAME: !Ref PersonTable\r\n      Events:\r\n        StoreApi:\r\n          Type: Api\r\n          Properties:\r\n            Path: /persons\r\n            Method: PUT\r\n  GetPersonByHTTPParamFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Handler: com.baeldung.lambda.apigateway.APIDemoHandler::handleGetByParam\r\n      Runtime: java8\r\n      Timeout: 15\r\n      MemorySize: 512\r\n      CodeUri: ../target/aws-lambda-0.1.0-SNAPSHOT.jar\r\n      Policies:\r\n        - DynamoDBReadPolicy:\r\n            TableName: !Ref PersonTable\r\n      Environment:\r\n        Variables:\r\n          TABLE_NAME: !Ref PersonTable\r\n      Events:\r\n        GetByPathApi:\r\n          Type: Api\r\n          Properties:\r\n            Path: /persons/{id}\r\n            Method: GET\r\n        GetByQueryApi:\r\n          Type: Api\r\n          Properties:\r\n            Path: /persons\r\n            Method: GET\r\n```","```\r\n$> aws cloudformation package --template-file ./sam-templates/template.yml --s3-bucket baeldung-sam-bucket --output-template-file ./sam-templates/packaged-template.yml\r\n```","```\r\nUploading to 4b445c195c24d05d8a9eee4cd07f34d0 92702076 / 92702076.0 (100.00%)\r\nSuccessfully packaged artifacts and wrote output template to file packaged-template.yml.\r\nExecute the following command to deploy the packaged template\r\naws cloudformation deploy --template-file c:\\zz_workspace\\tutorials\\aws-lambda\\sam-templates\\packaged-template.yml --stack-name <YOUR STACK NAME>\r\n```","```\r\n$> aws cloudformation deploy --template-file ./sam-templates/packaged-template.yml --stack-name baeldung-sam-stack  --capabilities CAPABILITY_IAM\r\n```","```\r\nWaiting for changeset to be created..\r\nWaiting for stack create/update to complete\r\nSuccessfully created/updated stack - baeldung-sam-stack\r\n```","```\r\n$> aws cloudformation describe-stack-resources --stack-name baeldung-sam-stack\r\n```","```\r\n$> curl -X PUT 'https://0skaqfgdw4.execute-api.eu-central-1.amazonaws.com/test/persons' \\\r\n   -H 'content-type: application/json' \\\r\n   -d '{\"id\": 1, \"name\": \"John Doe\"}'\r\n```","```\r\n$> curl -X GET 'https://0skaqfgdw4.execute-api.eu-central-1.amazonaws.com/test/persons/1' \\\r\n   -H 'content-type: application/json'\r\n```","```\r\n$> curl -X GET 'https://0skaqfgdw4.execute-api.eu-central-1.amazonaws.com/test/persons?id=1' \\\r\n   -H 'content-type: application/json'\r\n```","```\r\naws cloudformation delete-stack --stack-name baeldung-sam-stack\r\n```"]