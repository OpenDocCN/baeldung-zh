["```\r\npublic interface MessagingService {\r\n\r\n    String getMessageBody();\r\n    String getServiceName();\r\n}\r\n```","```\r\npublic class EmailService implements MessagingService {\r\n\r\n    public String getMessageBody() {\r\n        return \"email message\";\r\n    }\r\n\r\n    public String getServiceName() {\r\n        return \"EmailService\";\r\n    }\r\n}\r\n```","```\r\npublic class InitialContext {\r\n    public Object lookup(String serviceName) {\r\n        if (serviceName.equalsIgnoreCase(\"EmailService\")) {\r\n            return new EmailService();\r\n        } else if (serviceName.equalsIgnoreCase(\"SMSService\")) {\r\n            return new SMSService();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```","```\r\npublic class Cache {\r\n    private List<MessagingService> services = new ArrayList<>();\r\n\r\n    public MessagingService getService(String serviceName) {\r\n        // retrieve from the list\r\n    }\r\n\r\n    public void addService(MessagingService newService) {\r\n        // add to the list\r\n    }\r\n} \r\n```","```\r\npublic class ServiceLocator {\r\n\r\n    private static Cache cache = new Cache();\r\n\r\n    public static MessagingService getService(String serviceName) {\r\n\r\n        MessagingService service = cache.getService(serviceName);\r\n\r\n        if (service != null) {\r\n            return service;\r\n        }\r\n\r\n        InitialContext context = new InitialContext();\r\n        MessagingService service1 = (MessagingService) context\r\n          .lookup(serviceName);\r\n        cache.addService(service1);\r\n        return service1;\r\n    }\r\n}\r\n```","```\r\nMessagingService service \r\n  = ServiceLocator.getService(\"EmailService\");\r\nString email = service.getMessageBody();\r\n\r\nMessagingService smsService \r\n  = ServiceLocator.getService(\"SMSService\");\r\nString sms = smsService.getMessageBody();\r\n\r\nMessagingService emailService \r\n  = ServiceLocator.getService(\"EmailService\");\r\nString newEmail = emailService.getMessageBody();\r\n```"]