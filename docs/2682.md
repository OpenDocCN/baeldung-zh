# 使用 Java 查找文件中的行数

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/java-file-number-of-lines>

## 1.概观

在本教程中，我们将学习**如何在标准 Java IO APIs、 [`Google Guav` a](/web/20221129014325/https://www.baeldung.com/category/guava/) 和`[Apache Commons IO](/web/20221129014325/https://www.baeldung.com/apache-commons-io)`库的帮助下使用 Java** 找到文件中的行数。

## 2.nio2`Files`的缩写形式

请注意，在本教程中，我们将使用以下示例值作为输入文件名和总行数:

[PRE0]

Java 7 对现有的 IO 库进行了许多改进，并打包在 [NIO2:](/web/20221129014325/https://www.baeldung.com/java-nio-2-file-api) 下

让我们从`Files`开始，看看我们如何使用它的 API 来计算行数:

[PRE1]

或者通过简单地使用`Files#readAllLines`方法:

[PRE2]

## 3.九`FileChannel`

现在让我们检查一下`FileChannel,` 一个高性能的 Java NIO 替代品来读取行数:

[PRE3]

虽然`FileChannel`是在 JDK 4 中引入的，**上述解决方案只适用于 JDK 7 或更高版本的**。

## 4.谷歌番石榴`Files`

另一个第三方库是 Google Guava `Files` class。这个类也可以用来计算总行数，就像我们在`Files#readAllLines`中看到的那样。

让我们从在我们的`pom.xml`中添加[的`guava` 依赖关系](https://web.archive.org/web/20221129014325/https://search.maven.org/classic/#search|gav|1|g%3A%22com.google.guava%22%20AND%20a%3A%22guava%22)开始:

[PRE4]

然后我们可以使用`readLines `来获得文件行的`List`:

[PRE5]

## 5.Apache commons me〔t0〕

现在，让我们来看一下 [Apache Commons IO](/web/20221129014325/https://www.baeldung.com/apache-commons-io) `FileUtils` API，一个与 Guava 并行的解决方案。

要使用这个库，我们必须在`pom.xml`中包含[commons-io 依赖关系](https://web.archive.org/web/20221129014325/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22commons-io%22%20AND%20a%3A%22commons-io%22):

[PRE6]

此时，我们可以使用 Apache Commons IO 的`FileUtils#lineIterator`，它为我们清理了一些文件处理:

[PRE7]

正如我们所见，这比谷歌番石榴解决方案更冗长。

## 6.`BufferedReader`

那么，老派的方法呢？如果我们不在 JDK 7 上并且我们不能使用第三方库，我们有 [`BufferedReader`](/web/20221129014325/https://www.baeldung.com/java-buffered-reader) :

[PRE8]

## 7.`LineNumberReader`

或者，我们可以使用`[BufferedReader](/web/20221129014325/https://www.baeldung.com/java-buffered-reader)`的直接子类`LineNumberReader,` ,这稍微简单一些:

[PRE9]

这里我们是**调用`skip`方法**来到达文件的末尾，并且**我们正在给从 0 开始的行数**加 1。

## 8.`Scanner`

最后，如果我们已经在使用`[Scanner](/web/20221129014325/https://www.baeldung.com/java-scanner) `作为一个更大的解决方案的一部分，它也可以为我们解决问题:

[PRE10]

## 9.结论

在本教程中，我们探索了使用 Java 查找文件行数的不同方法。因为所有这些 API 的主要目的不是计算文件中的行数，所以建议根据我们的需要选择正确的解决方案。

和往常一样，本教程的源代码可以在 GitHub 上的[处获得。](https://web.archive.org/web/20221129014325/https://github.com/eugenp/tutorials/tree/master/core-java-modules/core-java-nio)