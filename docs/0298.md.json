["```\r\n<plugin>\r\n    <groupId>org.apache.maven.plugins</groupId>\r\n    <artifactId>maven-checkstyle-plugin</artifactId>\r\n    <version>2.17</version>\r\n</plugin>\r\n```","```\r\nnode {\r\n    stage 'Clone the project'\r\n    git 'https://github.com/eugenp/tutorials.git'\r\n\r\n    dir('spring-jenkins-pipeline') {\r\n        stage(\"Compilation and Analysis\") {\r\n            parallel 'Compilation': {\r\n                sh \"./mvnw clean install -DskipTests\"\r\n            }, 'Static Analysis': {\r\n                stage(\"Checkstyle\") {\r\n                    sh \"./mvnw checkstyle:checkstyle\"\r\n\r\n                    step([$class: 'CheckStylePublisher',\r\n                      canRunOnFailed: true,\r\n                      defaultEncoding: '',\r\n                      healthy: '100',\r\n                      pattern: '**/target/checkstyle-result.xml',\r\n                      unHealthy: '90',\r\n                      useStableBuildAsReference: true\r\n                    ])\r\n                }\r\n            }\r\n        }\r\n\r\n        stage(\"Tests and Deployment\") {\r\n            parallel 'Unit tests': {\r\n                stage(\"Runing unit tests\") {\r\n                    try {\r\n                        sh \"./mvnw test -Punit\"\r\n                    } catch(err) {\r\n                        step([$class: 'JUnitResultArchiver', testResults: \r\n                          '**/target/surefire-reports/TEST-*UnitTest.xml'])\r\n                        throw err\r\n                    }\r\n                   step([$class: 'JUnitResultArchiver', testResults: \r\n                     '**/target/surefire-reports/TEST-*UnitTest.xml'])\r\n                }\r\n            }, 'Integration tests': {\r\n                stage(\"Runing integration tests\") {\r\n                    try {\r\n                        sh \"./mvnw test -Pintegration\"\r\n                    } catch(err) {\r\n                        step([$class: 'JUnitResultArchiver', testResults: \r\n                          '**/target/surefire-reports/TEST-' \r\n                            + '*IntegrationTest.xml'])\r\n                        throw err\r\n                    }\r\n                    step([$class: 'JUnitResultArchiver', testResults: \r\n                      '**/target/surefire-reports/TEST-' \r\n                        + '*IntegrationTest.xml'])\r\n                }\r\n            }\r\n\r\n            stage(\"Staging\") {\r\n                sh \"pid=\\$(lsof -i:8989 -t); kill -TERM \\$pid \" \r\n                  + \"|| kill -KILL \\$pid\"\r\n                withEnv(['JENKINS_NODE_COOKIE=dontkill']) {\r\n                    sh 'nohup ./mvnw spring-boot:run -Dserver.port=8989 &'\r\n                }   \r\n            }\r\n        }\r\n    }\r\n}\r\n```"]