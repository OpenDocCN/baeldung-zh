["```\r\nCoreV1Api api = new CoreV1Api(client);\r\nCall call = api.listPodForAllNamespacesCall(null, null, null, null, null, null, null, null, 10, true, null);\r\nWatch<V1Pod> watch = Watch.createWatch(\r\n  client, \r\n  call, \r\n  new TypeToken<Response<V1Pod>>(){}.getType())); \r\n```","```\r\nfor (Response<V1Pod> event : watch) {\r\n    V1Pod pod = event.object;\r\n    V1ObjectMeta meta = pod.getMetadata();\r\n    switch (event.type) {\r\n    case \"ADDED\":\r\n    case \"MODIFIED\":\r\n    case \"DELETED\":\r\n        // ... process pod data\r\n        break;\r\n    default:\r\n        log.warn(\"Unknown event type: {}\", event.type);\r\n    }\r\n} \r\n```","```\r\nString resourceVersion = null;\r\nwhile (true) {\r\n    if (resourceVersion == null) {\r\n        V1PodList podList = api.listPodForAllNamespaces(null, null, null, null, null, \"false\",\r\n          resourceVersion, null, 10, null);\r\n        resourceVersion = podList.getMetadata().getResourceVersion();\r\n    }\r\n    try (Watch<V1Pod> watch = Watch.createWatch(\r\n      client,\r\n      api.listPodForAllNamespacesCall(null, null, null, null, null, \"false\",\r\n        resourceVersion, null, 10, true, null),\r\n      new TypeToken<Response<V1Pod>>(){}.getType())) {\r\n\r\n        for (Response<V1Pod> event : watch) {\r\n            // ... process events\r\n        }\r\n    } catch (ApiException ex) {\r\n        if (ex.getCode() == 504 || ex.getCode() == 410) {\r\n            resourceVersion = extractResourceVersionFromException(ex);\r\n        }\r\n        else {\r\n            resourceVersion = null;\r\n        }\r\n    }\r\n} \r\n```","```\r\nString resourceVersion = null;\r\n\r\nwhile (true) {\r\n    // Get a fresh list whenever we need to resync\r\n    if (resourceVersion == null) {\r\n        V1PodList podList = api.listPodForAllNamespaces(true, null, null, null, null,\r\n          \"false\", resourceVersion, null, null, null);\r\n        resourceVersion = podList.getMetadata().getResourceVersion();\r\n    }\r\n\r\n    while (true) {\r\n        try (Watch<V1Pod> watch = Watch.createWatch(\r\n          client,\r\n          api.listPodForAllNamespacesCall(true, null, null, null, null, \r\n            \"false\", resourceVersion, null, 10, true, null),\r\n          new TypeToken<Response<V1Pod>>(){}.getType())) {\r\n              for (Response<V1Pod> event : watch) {\r\n                  V1Pod pod = event.object;\r\n                  V1ObjectMeta meta = pod.getMetadata();\r\n                  switch (event.type) {\r\n                      case \"BOOKMARK\":\r\n                          resourceVersion = meta.getResourceVersion();\r\n                          break;\r\n                      case \"ADDED\":\r\n                      case \"MODIFIED\":\r\n                      case \"DELETED\":\r\n                          // ... event processing omitted\r\n                          break;\r\n                      default:\r\n                          log.warn(\"Unknown event type: {}\", event.type);\r\n                  }\r\n              }\r\n          }\r\n        } catch (ApiException ex) {\r\n            resourceVersion = null;\r\n            break;\r\n        }\r\n    }\r\n} \r\n```"]