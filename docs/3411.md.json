["```\r\n$ grep -i 'log.retention.[hms].*\\=' config/server.properties\r\nlog.retention.hours=168 \r\n```","```\r\nlog.retention.minutes=10 \r\n```","```\r\nfunction create_topic {\r\n    topic_name=\"$1\"\r\n    bin/kafka-topics.sh --create --topic ${topic_name} --if-not-exists \\\r\n      --partitions 1 --replication-factor 1 \\\r\n      --zookeeper localhost:2181\r\n}\r\n\r\nfunction describe_topic_config {\r\n    topic_name=\"$1\"\r\n    ./bin/kafka-configs.sh --describe --all \\\r\n      --bootstrap-server=0.0.0.0:9092 \\\r\n      --topic ${topic_name}\r\n}\r\n```","```\r\nbash-5.1# cat create-topic.sh\r\n#!/bin/bash\r\n. ./functions.sh\r\ntopic_name=\"$1\"\r\ncreate_topic \"${topic_name}\"\r\nexit $? \r\n```","```\r\nbash-5.1# cat get-topic-retention-time.sh\r\n#!/bin/bash\r\n. ./functions.sh\r\ntopic_name=\"$1\"\r\ndescribe_topic_config \"${topic_name}\" | awk 'BEGIN{IFS=\"=\";IRS=\" \"} /^[ ]*retention.ms/{print $1}'\r\nexit $? \r\n```","```\r\nbash-5.1# ./create-topic.sh test-topic\r\nCreated topic test-topic.\r\nbash-5.1# ./get-topic-retention-time.sh test-topic\r\nretention.ms=600000\r\n```","```\r\nfunction alter_topic_config {\r\n    topic_name=\"$1\"\r\n    config_name=\"$2\"\r\n    config_value=\"$3\"\r\n    ./bin/kafka-configs.sh --alter \\\r\n      --add-config ${config_name}=${config_value} \\\r\n      --bootstrap-server=0.0.0.0:9092 \\\r\n      --topic ${topic_name}\r\n}\r\n```","```\r\n#!/bin/sh\r\n. ./functions.sh\r\n\r\nalter_topic_retention_config $1 $2 $3\r\nexit $?\r\n```","```\r\nbash-5.1# ./alter-topic-config.sh test-topic retention.ms 300000\r\nCompleted updating config for topic test-topic.\r\n\r\nbash-5.1# ./get-topic-retention-time.sh test-topic\r\nretention.ms=300000\r\n```","```\r\nfunction produce_message {\r\n    topic_name=\"$1\"\r\n    message=\"$2\"\r\n    echo \"${message}\" | ./bin/kafka-console-producer.sh \\\r\n    --bootstrap-server=0.0.0.0:9092 \\\r\n    --topic ${topic_name}\r\n}\r\n\r\nfunction consume_message {\r\n    topic_name=\"$1\"\r\n    timeout=\"$2\"\r\n    ./bin/kafka-console-consumer.sh \\\r\n    --bootstrap-server=0.0.0.0:9092 \\\r\n    --from-beginning \\\r\n    --topic ${topic_name} \\\r\n    --max-messages 1 \\\r\n    --timeout-ms $timeout\r\n}\r\n```","```\r\nbash-5.1# cat producer.sh\r\n#!/bin/sh\r\n. ./functions.sh\r\ntopic_name=\"$1\"\r\nmessage=\"$2\"\r\n\r\nproduce_message ${topic_name} ${message}\r\nexit $?\r\n```","```\r\nbash-5.1# cat consumer.sh\r\n#!/bin/sh\r\n. ./functions.sh\r\ntopic_name=\"$1\"\r\ntimeout=\"$2\"\r\n\r\nconsume_message ${topic_name} $timeout\r\nexit $?\r\n```","```\r\nbash-5.1# ./producer.sh \"test-topic-2\" \"message1\"\r\nbash-5.1# ./consumer.sh test-topic-2 10000\r\nmessage1\r\nProcessed a total of 1 messages\r\nbash-5.1# ./consumer.sh test-topic-2 10000\r\nmessage1\r\nProcessed a total of 1 messages\r\n```","```\r\nbash-5.1# sleep 300 && ./consumer.sh test-topic 10000\r\n[2021-02-06 21:55:00,896] ERROR Error processing message, terminating consumer process:  (kafka.tools.ConsoleConsumer$)\r\norg.apache.kafka.common.errors.TimeoutException\r\nProcessed a total of 0 messages\r\n```"]