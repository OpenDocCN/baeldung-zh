# 番石榴数学应用指南

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/guava-math>

## **1。概述**

在本文中，我们将看到番石榴库中一些有用的数学运算。

番石榴有四个数学工具类:

1.  `IntMath`–对整数值的操作
2.  `LongMath`–长值运算
3.  `BigIntegerMath`–对`BigIntegers`的操作
4.  `DoubleMath`–双值运算

## **2。`IntMath`公用事业**

`IntMath`用于对整数值进行数学运算。我们将浏览可用的方法列表，解释它们的每一种行为。

### **2.1。`binomial(int n, int k)`**

这个函数计算 n 和 k 的二项式系数。它确保结果在整数范围内。否则，它给出`Integer.MAX_VALUE`。答案可以通过公式 n/k(n-k)得出:

[PRE0]

### **2.2。`ceilingPowerOfTwo(int x)`**

这将计算大于或等于 x 的 2 的最小幂的值。结果 n 是这样的:2^(n-1) < x < 2 ^n:

[PRE1]

### **2.3。`checkedAdd(int a, int b)` 等人**

该函数计算两个参数的和。这个函数提供了一个额外的检查，如果结果溢出就抛出`ArithmeticException`:

[PRE2]

Guava 检查了另外三个可以溢出的运算符的方法:`checkedMultiply`、`checkedPow,` 和`checkedSubtract`。

### **2.4。`divide(int p, int q, RoundingMode mode)`**

这是一个简单的除法，但允许我们定义一个舍入模式:

[PRE3]

### **2.5。`factorial(int n)`**

计算 n 的阶乘值，即前 n 个正整数的乘积。如果 n = 0，则返回 1，如果结果不适合 int 范围，则返回`Integer.MAX_VALUE`。结果可由 n×n-1×n-2×x 得到..x 2 x 1:

[PRE4]

### **2.6。`floorPowerOfTwo(int x)`**

返回 2 的最大幂，其结果小于或等于 x。结果 n 是 2^n < x < 2 ^(n+1):

[PRE5]

### **2.7。`gcd(int a, int b)`**

这个函数给出了 a 和 b 的最大公约数:

[PRE6]

### **2.8。`isPowerOfTwo(int x)`**

返回 x 是否是 2 的幂。如果值是 2 的幂，则返回 true，否则返回 false:

[PRE7]

### **2.9。`isPrime(int n)`**

这个函数将告诉我们传递的数字是否是质数:

[PRE8]

### **2.10。`log10(int x, RoundingMode mode)`**

这个 API 计算给定数字的以 10 为底的对数。使用提供的舍入模式对结果进行舍入:

[PRE9]

### **2.11。`log2(int x, RoundingMode mode)`**

返回给定数字的以 2 为底的对数。使用提供的舍入模式对结果进行舍入:

[PRE10]

### **2.12。`mean(int x, int y)`**

使用此函数，我们可以计算两个值的平均值:

[PRE11]

### **2.13。`mod(int x, int m)`**

返回一个数被另一个数整除的余数:

[PRE12]

### **2.14。`pow(int b, int k)`**

返回 b 的 k 次方值:

[PRE13]

### **2.15。`saturatedAdd(int a, int b)`等人**

一个 sum 函数，通过在发生溢出或下溢时分别返回值`Integer.MAX_VALUE`或`Integer.MIN_VALUE`来控制溢出或下溢:

[PRE14]

另外还有三个饱和 API:`saturatedMultiply`、`saturatedPow` 和`saturatedSubtract`。

### **2.16。`sqrt(int x, RoundingMode mode)`**

返回给定数字的平方根。使用提供的舍入模式对结果进行舍入:

[PRE15]

## **3。`LongMath`公用事业**

`LongMath`具有用于`Long`值的工具。大多数操作与`IntMath`实用程序相似，这里只描述了少数例外。

### **3.1。`mod(long x, int m)`和`mod(long x, long m)`**

返回 x mod m。x 除以 m 的整数的余数:

[PRE16]

[PRE17]

## **4。`BigIntegerMath`公用事业**

`BigIntegerMath`用于对类型`BigInteger`进行数学运算。

该实用程序有一些类似于`IntMath.`的方法

## **5。双重数学实用程序**

`DoubleMath`实用程序用于对双精度值执行运算。

与`BigInteger`实用程序相似，可用操作的数量有限，并且与`IntMath`实用程序相似。我们将列出一些仅适用于该实用程序类的异常函数。

### **5.1。`isMathematicalInteger(double x)`**

返回 x 是否是一个数学整数。它检查数字是否可以表示为整数而不丢失数据:

[PRE18]

### **5.2。`log2(double x)`**

计算 x 的以 2 为底的对数:

[PRE19]

## **6。结论**

在这个快速教程中，我们探索了一些有用的番石榴数学实用函数。

和往常一样，源代码可以在 GitHub 上找到[。](https://web.archive.org/web/20221208143856/https://github.com/eugenp/tutorials/tree/master/guava-modules/guava-utilities)