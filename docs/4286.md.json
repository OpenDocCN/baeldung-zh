["```\r\n@Entity\r\npublic class Preference {\r\n    ...\r\n    private String timezone;\r\n}\r\n```","```\r\n<select id=\"timezone\" name=\"timezone\"></select>\r\n<script>\r\n    $(function() {\r\n        $('#timezone').timezones();\r\n    });\r\n</script>\r\n```","```\r\n@Controller\r\n@RequestMapping(value = \"/api/scheduledPosts\")\r\npublic class ScheduledPostRestController {\r\n    private static final SimpleDateFormat dateFormat = \r\n      new SimpleDateFormat(\"yyyy-MM-dd HH:mm\");\r\n\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void schedule(\r\n      @RequestBody Post post, \r\n      @RequestParam(value = \"date\") String date) throws ParseException \r\n    {\r\n        post.setSubmissionDate(\r\n          calculateSubmissionDate(date, getCurrentUser().getPreference().getTimezone()));\r\n        ...\r\n    }\r\n\r\n    @RequestMapping(value = \"/{id}\", method = RequestMethod.PUT)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void updatePost(\r\n      @RequestBody Post post, \r\n      @RequestParam(value = \"date\") String date) throws ParseException \r\n    {\r\n        post.setSubmissionDate(\r\n          calculateSubmissionDate(date, getCurrentUser().getPreference().getTimezone()));\r\n        ...\r\n    }\r\n\r\n    private synchronized Date calculateSubmissionDate(String dateString, String userTimeZone) \r\n      throws ParseException {\r\n        dateFormat.setTimeZone(TimeZone.getTimeZone(userTimeZone));\r\n        return dateFormat.parse(dateString);\r\n    }\r\n}\r\n```","```\r\n<table><thead><tr>\r\n<th>Post title</th>\r\n<th>Submission Date \r\n  (<span id=\"timezone\" sec:authentication=\"principal.preference.timezone\">UTC</span>)</th>\r\n</tr></thead></table>\r\n```","```\r\nfunction loadPage(page){\r\n    ...\r\n    $('.table').append('<tr><td>'+post.title+'</td><td>'+\r\n      convertDate(post.submissionDate)+'</td></tr>');\r\n    ...\r\n}\r\nfunction convertDate(date){\r\n    var serverTimezone = [[${#dates.format(#calendars.createToday(), 'z')}]];\r\n    var serverDate = moment.tz(date, serverTimezone);\r\n    var clientDate = serverDate.clone().tz($(\"#timezone\").html());\r\n    var myformat = \"YYYY-MM-DD HH:mm\";\r\n    return clientDate.format(myformat);\r\n}\r\n```","```\r\nSubmission Date (<span sec:authentication=\"principal.preference.timezone\">UTC</span>)\r\n<input id=\"date\" name=\"date\" />\r\n\r\n<script type=\"text/javascript\">\r\nfunction schedulePost(){\r\n    var data = {};\r\n    $('form').serializeArray().map(function(x){data[x.name] = x.value;});\r\n    $.ajax({\r\n        url: 'api/scheduledPosts?date='+$(\"#date\").val(),\r\n        data: JSON.stringify(data),\r\n        type: 'POST',\r\n        contentType:'application/json',\r\n        success: function(result) {\r\n            window.location.href=\"scheduledPosts\";\r\n        },\r\n        error: function(error) {\r\n            alert(error.responseText);\r\n        }   \r\n    }); \r\n}\r\n</script>\r\n```","```\r\n$(function() {\r\n    var serverTimezone = [[${#dates.format(#calendars.createToday(), 'z')}]];\r\n    var serverDate = moment.tz($(\"#date\").val(), serverTimezone);\r\n    var clientDate = serverDate.clone().tz($(\"#timezone\").html());\r\n    var myformat = \"YYYY-MM-DD HH:mm\";\r\n    $(\"#date\").val(clientDate.format(myformat));\r\n});\r\n```"]