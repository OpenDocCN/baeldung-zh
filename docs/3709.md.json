["```\r\npublic class ListLoadedClassesAgent {\r\n\r\n    private static Instrumentation instrumentation;\r\n\r\n    public static void premain(String agentArgs, Instrumentation instrumentation) {\r\n        ListLoadedClassesAgent.instrumentation = instrumentation;\r\n    }\r\n}\r\n```","```\r\npublic static Class<?>[] listLoadedClasses(String classLoaderType) {\r\n    return instrumentation.getInitiatedClasses(\r\n      getClassLoader(classLoaderType));\r\n}\r\n\r\nprivate static ClassLoader getClassLoader(String classLoaderType) {\r\n    ClassLoader classLoader = null;\r\n    switch (classLoaderType) {\r\n        case \"SYSTEM\":\r\n            classLoader = ClassLoader.getSystemClassLoader();\r\n            break;\r\n        case \"EXTENSION\":\r\n            classLoader = ClassLoader.getSystemClassLoader().getParent();\r\n            break;\r\n        case \"BOOTSTRAP\":\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return classLoader;\r\n}\r\n```","```\r\ncase \"PLATFORM\":\r\n    classLoader = ClassLoader.getPlatformClassLoader();\r\n    break;\r\n```","```\r\nPremain-Class: com.baeldung.loadedclasslisting.ListLoadedClassesAgent\r\n```","```\r\npublic class Launcher {\r\n\r\n    public static void main(String[] args) {\r\n        printClassesLoadedBy(\"BOOTSTRAP\");\r\n        printClassesLoadedBy(\"SYSTEM\");\r\n        printClassesLoadedBy(\"EXTENSION\");\r\n    }\r\n\r\n    private static void printClassesLoadedBy(String classLoaderType) {\r\n        System.out.println(classLoaderType + \" ClassLoader : \");\r\n        Class<?>[] classes = ListLoadedClassesAgent.listLoadedClasses(classLoaderType);\r\n        Arrays.asList(classes)\r\n            .forEach(clazz -> System.out.println(clazz.getCanonicalName()));\r\n    }\r\n}\r\n```","```\r\njava -javaagent:agent.jar -jar app.jar\r\n```","```\r\nBOOTSTRAP ClassLoader :\r\njava.lang.ClassValue.Entry[]\r\njava.util.concurrent.ConcurrentHashMap.Segment\r\njava.util.concurrent.ConcurrentHashMap.Segment[]\r\njava.util.StringTokenizer\r\n..............\r\nSYSTEM ClassLoader : \r\njava.lang.Object[]\r\njava.lang.Object[][]\r\njava.lang.Class\r\njava.lang.Class[]\r\n..............\r\nEXTENSION ClassLoader :\r\nbyte[]\r\nchar[]\r\nint[]\r\nint[][]\r\nshort[] \r\n```"]