# 将 Spring Boot 应用程序部署到 AWS Beanstalk

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/spring-boot-deploy-aws-beanstalk>

## **1。概述**

在本教程中，我们将展示如何从我们的 [Bootstrap 一个简单的应用程序使用 Spring Boot](https://web.archive.org/web/20220630015858/https://www.baeldung.com/spring-boot-start) 教程到 [AWS Elastic Beanstalk](https://web.archive.org/web/20220630015858/https://docs.aws.amazon.com/elastic-beanstalk/index.html#lang/en_us) 部署一个应用程序。

作为其中的一部分，我们将:

*   安装和配置 AWS CLI 工具
*   创建一个 Beanstalk 项目和 MySQL 部署
*   在 AWS RDS 中为 MySQL 配置应用程序
*   部署、测试和扩展应用程序

## **2。AWS 弹性豆茎配置**

**作为先决条件，我们应该在 AWS 上注册，并且[在 Elastic Beanstalk](https://web.archive.org/web/20220630015858/https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.environments.html) 上创建了一个 Java 8 环境。我们还需要[安装 AWS CLI](https://web.archive.org/web/20220630015858/https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html) ，这将允许我们连接到我们的环境。**

因此，鉴于此，我们需要登录并初始化我们的应用程序:

[PRE0]

[PRE1]

如上所示，系统会提示我们选择一个区域。

最后，我们可以选择应用程序:

[PRE2]

此时，**CLI 将创建一个名为** `**.elasticbeanstalk/config.yml**.`的文件。该文件将保留项目的默认值。

## **3。数据库**

现在，我们可以在 AWS Web 控制台上或通过 CLI 使用以下命令创建数据库:

[PRE3]

我们需要按照说明提供用户名和密码。

创建好数据库后，现在让我们为应用程序配置 RDS 凭证。我们将通过在应用程序中创建`src/main/resources/application-beanstalk.properties` 在名为`beanstalk`的 Spring 概要文件中这样做:

[PRE4]

**Spring 将搜索名为`rds.hostname`的属性作为名为`RDS_HOSTNAME`的环境变量。同样的逻辑将适用于其余部分。**

## **4。应用程序**

现在，我们将为`pom.xml`添加一个 Beanstalk `–`特有的 Maven 概要文件:

[PRE5]

**接下来，我们将把工件指定到弹性豆茎配置文件`.elasticbeanstalk/config.yml` :**

[PRE6]

最后，我们将在弹性豆茎中包含两个环境变量。第一个将指定活动的 Spring 配置文件，第二个将确保使用 Beanstalk 期望的默认端口 5000:

[PRE7]

## **5。部署和测试**

**现在我们已经准备好构建和部署:**

[PRE8]

接下来，我们将检查状态并确定部署的应用程序的 DNS 名称:

[PRE9]

我们的输出应该是这样的:

[PRE10]

我们现在可以测试应用程序了——请注意使用 CNAME 字段作为 DNS 来完成 URL。

现在让我们向图书馆添加一本书:

[PRE11]

如果一切顺利的话，我们应该会得到这样的结果:

[PRE12]

## **6。扩展应用程序**

最后，我们扩展部署以运行两个实例:

[PRE13]

**Beanstalk 现在将运行该应用程序的两个实例，并在两个实例之间平衡流量负载。**

用于生产的自动缩放涉及到更多的，所以我们将把它留到下一天。

## **7。结论**

在本教程中，我们将:

*   安装并配置了 AWS Beanstalk CLI，并配置了在线环境
*   部署了 MySQL 服务并配置了数据库连接属性
*   构建并部署我们已配置的 Spring Boot 应用程序，以及
*   测试和扩展应用程序

要了解更多细节，请查看 Beanstalk Java 文档。

和往常一样，我们示例的完整源代码在这里，在 GitHub 上的[。](https://web.archive.org/web/20220630015858/https://github.com/eugenp/tutorials/tree/master/spring-boot-modules/spring-boot-bootstrap)