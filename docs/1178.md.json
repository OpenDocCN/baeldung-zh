["```\r\n<dependency>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter-web</artifactId>\r\n    <version>2.6.1</version>\r\n</dependency>\r\n<dependency>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter-cache</artifactId>\r\n    <version>2.6.1</version></dependency>\r\n<dependency>\r\n    <groupId>javax.cache</groupId>\r\n    <artifactId>cache-api</artifactId>\r\n    <version>1.1.1</version>\r\n</dependency>\r\n<dependency>\r\n    <groupId>org.ehcache</groupId>\r\n    <artifactId>ehcache</artifactId>\r\n    <version>3.8.1</version>\r\n</dependency> \r\n```","```\r\n@RestController\r\n@RequestMapping(\"/number\", MediaType.APPLICATION_JSON_UTF8_VALUE)\r\npublic class NumberController {\r\n\r\n    // ...\r\n\r\n    @Autowired\r\n    private NumberService numberService;\r\n\r\n    @GetMapping(path = \"/square/{number}\")\r\n    public String getSquare(@PathVariable Long number) {\r\n        log.info(\"call numberService to square {}\", number);\r\n        return String.format(\"{\\\"square\\\": %s}\", numberService.square(number));\r\n    }\r\n}\r\n```","```\r\n@Service\r\npublic class NumberService {\r\n\r\n    // ...\r\n    @Cacheable(\r\n      value = \"squareCache\", \r\n      key = \"#number\", \r\n      condition = \"#number>10\")\r\n    public BigDecimal square(Long number) {\r\n        BigDecimal square = BigDecimal.valueOf(number)\r\n          .multiply(BigDecimal.valueOf(number));\r\n        log.info(\"square of {} is {}\", number, square);\r\n        return square;\r\n    }\r\n}\r\n```","```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```","```\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n}\r\n```","```\r\nspring.cache.jcache.config=classpath:ehcache.xml \r\n```","```\r\n<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\r\n    xmlns:jsr107=\"http://www.ehcache.org/v3/jsr107\"\r\n    xsi:schemaLocation=\"\r\n            http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\r\n            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd\">\r\n\r\n    <cache alias=\"squareCache\">\r\n        <key-type>java.lang.Long</key-type>\r\n        <value-type>java.math.BigDecimal</value-type>\r\n        <expiry>\r\n            <ttl unit=\"seconds\">30</ttl>\r\n        </expiry>\r\n\r\n        <listeners>\r\n            <listener>\r\n                <class>com.baeldung.cachetest.config.CacheEventLogger</class>\r\n                <event-firing-mode>ASYNCHRONOUS</event-firing-mode>\r\n                <event-ordering-mode>UNORDERED</event-ordering-mode>\r\n                <events-to-fire-on>CREATED</events-to-fire-on>\r\n                <events-to-fire-on>EXPIRED</events-to-fire-on>\r\n            </listener>\r\n        </listeners>\r\n\r\n        <resources>\r\n            <heap unit=\"entries\">2</heap>\r\n            <offheap unit=\"MB\">10</offheap>\r\n        </resources>\r\n    </cache>\r\n\r\n</config>\r\n```","```\r\npublic class CacheEventLogger \r\n  implements CacheEventListener<Object, Object> {\r\n\r\n    // ...\r\n\r\n    @Override\r\n    public void onEvent(\r\n      CacheEvent<? extends Object, ? extends Object> cacheEvent) {\r\n        log.info(/* message */,\r\n          cacheEvent.getKey(), cacheEvent.getOldValue(), cacheEvent.getNewValue());\r\n    }\r\n}\r\n```","```\r\nINFO [nio-8080-exec-1] c.b.cachetest.rest.NumberController : call numberService to square 12\r\nINFO [nio-8080-exec-1] c.b.cachetest.service.NumberService : square of 12 is 144\r\nINFO [e [_default_]-0] c.b.cachetest.config.CacheEventLogger : Cache event CREATED for item with key 12\\. Old value = null, New value = 144\r\n```","```\r\nINFO [nio-8080-exec-2] c.b.cachetest.rest.NumberController : call numberService to square 12\r\n```","```\r\nINFO [nio-8080-exec-1] (...) NumberController : call numberService to square 12\r\nINFO [e [_default_]-1] (...) CacheEventLogger : Cache event EXPIRED for item with key 12\\. Old value = 144,New value = null\r\nINFO [nio-8080-exec-1] (... )NumberService : square of 12 is 144\r\nINFO [e [_default_]-1] (...) CacheEventLogger : Cache event CREATED for item with key 12\\. Old value = null, New value = 144\r\n```"]