["```\r\n<dependency>\r\n    <groupId>io.projectreactor</groupId>\r\n    <artifactId>reactor-core</artifactId\r\n    <version>3.4.9</version>\r\n</dependency>\r\n```","```\r\nFunction<String, Integer> mapper = input -> {\r\n    if (input.matches(\"\\\\D\")) {\r\n        throw new NumberFormatException();\r\n    } else {\r\n        return Integer.parseInt(input);\r\n    }\r\n};\r\n\r\nFlux<String> inFlux = Flux.just(\"1\", \"1.5\", \"2\");\r\nFlux<Integer> outFlux = inFlux.map(mapper);\r\n```","```\r\nStepVerifier.create(outFlux)\r\n    .expectNext(1)\r\n    .expectError(NumberFormatException.class)\r\n    .verify();\r\n```","```\r\nBiConsumer<String, SynchronousSink<Integer>> handler = (input, sink) -> {\r\n    if (input.matches(\"\\\\D\")) {\r\n        sink.error(new NumberFormatException());\r\n    } else {\r\n        sink.next(Integer.parseInt(input));\r\n    }\r\n};\r\n\r\nFlux<String> inFlux = Flux.just(\"1\", \"1.5\", \"2\");\r\nFlux<Integer> outFlux = inFlux.handle(handler);\r\n```","```\r\nStepVerifier.create(outFlux)\r\n    .expectNext(1)\r\n    .expectError(NumberFormatException.class)\r\n    .verify();\r\n```","```\r\nFunction<String, Publisher<Integer>> mapper = input -> {\r\n    if (input.matches(\"\\\\D\")) {\r\n        return Mono.error(new NumberFormatException());\r\n    } else {\r\n        return Mono.just(Integer.parseInt(input));\r\n    }\r\n};\r\n\r\nFlux<String> inFlux = Flux.just(\"1\", \"1.5\", \"2\");\r\nFlux<Integer> outFlux = inFlux.flatMap(mapper);\r\n\r\nStepVerifier.create(outFlux)\r\n    .expectNext(1)\r\n    .expectError(NumberFormatException.class)\r\n    .verify();\r\n```","```\r\nFunction<String, Integer> mapper = input -> {\r\n    if (input == null) {\r\n        return 0;\r\n    } else {\r\n        return Integer.parseInt(input);\r\n    }\r\n};\r\n```","```\r\nFlux<String> inFlux = Flux.just(\"1\", null, \"2\");\r\nFlux<Integer> outFlux = inFlux.map(mapper);\r\n\r\nStepVerifier.create(outFlux)\r\n    .expectNext(1)\r\n    .expectError(NullPointerException.class)\r\n    .verify();\r\n```"]