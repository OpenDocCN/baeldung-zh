# 对 MapStruct 使用多个源对象

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/mapstruct-multiple-source-objects>

## 1.概观

在本教程中，我们将看到如何使用多个源对象与 [MapStruct](/web/20221224152125/https://www.baeldung.com/mapstruct) 。

## 2.单源对象

MapStruct 最常见的用例是将一个对象映射到另一个对象。假设我们有一个`Customer`类:

[PRE0]

让我们进一步假设有一个对应的`CustomerDto`:

[PRE1]

我们现在可以定义一个映射器，将一个`Customer`对象映射到一个`CustomerDto`对象:

[PRE2]

## 3.多个源对象

有时我们希望目标对象拥有来自多个源对象的属性。假设我们编写一个购物应用程序。

我们需要构建一个送货地址来运送我们的货物:

[PRE3]

每个客户可以有多个地址。一个可以是家庭住址。另一个可以是工作地址:

[PRE4]

我们现在需要一个映射器，它从一个客户及其一个地址中创建交货地址。MapStruct 通过拥有多个源对象来支持这一点:

[PRE5]

让我们通过编写一个小测试来看看这一点:

[PRE6]

**当我们有不止一个参数时，我们可以在`@Mapping`注释中用点符号来表示它们。**例如，为了处理名为`customer`的参数的属性`firstName`，我们简单地写下“`customer.firstName`”。

然而，我们不限于两个源对象。任何数字都可以。

## 4.用`@MappingTarget`更新现有对象

到目前为止，我们已经有了创建目标类新实例的映射器。对于多个源对象，我们现在还可以提供一个要更新的实例。

例如，假设我们想要更新一个交货地址的与客户相关的属性。我们所需要的就是让其中一个参数与方法返回的类型相同，并用`@MappingTarget`对其进行注释:

[PRE7]

因此，让我们继续用一个`DeliveryAddress`实例做一个快速测试:

[PRE8]

## 5.结论

MapStruct 允许我们向映射方法传递多个源参数。例如，当我们想要将多个实体合并成一个时，这就很方便了。

另一个用例是让目标对象本身成为源参数之一。使用`@MappingTarget`注释，可以就地更新给定的对象。

请务必在 GitHub 上查看所有这些样本[。](https://web.archive.org/web/20221224152125/https://github.com/eugenp/tutorials/tree/master/mapstruct)