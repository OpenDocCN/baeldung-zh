["```\r\npublic class LdapConnectionTool {\r\n    public static void main(String[] args) {\r\n        // ...\r\n    }\r\n} \r\n```","```\r\nString factory = System.getProperty(\"factory\", \"com.sun.jndi.ldap.LdapCtxFactory\");\r\nString authType = System.getProperty(\"authType\", \"simple\");\r\nString url = System.getProperty(\"url\");\r\nString user = System.getProperty(\"user\");\r\nString password = System.getProperty(\"password\");\r\nString query = System.getProperty(\"query\", user);\r\n```","```\r\nHashtable<String, String> env = new Hashtable<String, String>();\r\nenv.put(Context.INITIAL_CONTEXT_FACTORY, factory);\r\nenv.put(Context.SECURITY_AUTHENTICATION, authType);\r\nenv.put(Context.PROVIDER_URL, url);\r\n```","```\r\nif (user != null) {\r\n    env.put(Context.SECURITY_PRINCIPAL, user);\r\n    env.put(Context.SECURITY_CREDENTIALS, password);\r\n}\r\n```","```\r\nenv.put(\"com.sun.jndi.ldap.read.timeout\", \"5000\");\r\nenv.put(\"com.sun.jndi.ldap.connect.timeout\", \"5000\");\r\n```","```\r\nDirContext context = null;\r\ntry {\r\n    context = new InitialDirContext(env);\r\n    System.out.println(\"success\");\r\n    // ...\r\n} catch (NamingException e) {\r\n    System.out.println(e.getMessage());\r\n} finally {\r\n    context.close();\r\n}\r\n```","```\r\nif (query != null) {\r\n    Attributes attributes = context.getAttributes(query);\r\n    NamingEnumeration<? extends Attribute> all = attributes.getAll();\r\n    while (all.hasMoreElements()) {\r\n        Attribute next = all.next();\r\n\r\n        String key = next.getID();\r\n        Object value = next.get();\r\n\r\n        System.out.println(key + \"=\" + value);\r\n    }\r\n}\r\n```","```\r\njava -cp ldap-connection-tool.jar \\\r\n-Durl=ldap://localhost:389 \\\r\n-Duser=uid=gauss,dc=baeldung,dc=com \\\r\n-Dpassword=password \\\r\ncom.baeldung.jndi.ldap.connectionTool.LdapConnectionTool\r\n```","```\r\njava -cp ldap-connection-tool.jar \\\r\n-Durl=ldap://localhost:389 \\\r\ncom.baeldung.jndi.ldap.connectionTool.LdapConnectionTool\r\n```"]