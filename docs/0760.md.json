["```\r\njava -XX:+PrintFlagsFinal -version | grep CompileThreshold\r\nintx CompileThreshold = 10000\r\nintx Tier2CompileThreshold = 0\r\nintx Tier3CompileThreshold = 2000\r\nintx Tier4CompileThreshold = 15000\r\n```","```\r\npublic class JsonFormatter implements Formatter {\r\n\r\n    private static final JsonMapper mapper = new JsonMapper();\r\n\r\n    @Override\r\n    public <T> String format(T object) throws JsonProcessingException {\r\n        return mapper.writeValueAsString(object);\r\n    }\r\n\r\n}\r\n```","```\r\npublic class XmlFormatter implements Formatter {\r\n\r\n    private static final XmlMapper mapper = new XmlMapper();\r\n\r\n    @Override\r\n    public <T> String format(T object) throws JsonProcessingException {\r\n        return mapper.writeValueAsString(object);\r\n    }\r\n\r\n}\r\n```","```\r\npublic class TieredCompilation {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        for (int i = 0; i < 1_000_000; i++) {\r\n            Formatter formatter;\r\n            if (i < 500_000) {\r\n                formatter = new JsonFormatter();\r\n            } else {\r\n                formatter = new XmlFormatter();\r\n            }\r\n            formatter.format(new Article(\"Tiered Compilation in JVM\", \"Baeldung\"));\r\n        }\r\n    }\r\n\r\n}\r\n```","```\r\n567  714       3       com.baeldung.tieredcompilation.JsonFormatter::format (8 bytes)\r\n687  832 %     3       com.baeldung.tieredcompilation.TieredCompilation::main @ 2 (58 bytes)\r\n```","```\r\nA few hundred milliseconds later, the JVM compiled both methods on level 4\\. Hence, the C2 compiled versions replaced the previous versions compiled with C1:\r\n```","```\r\n659  800       4       com.baeldung.tieredcompilation.JsonFormatter::format (8 bytes)\r\n807  834 %     4       com.baeldung.tieredcompilation.TieredCompilation::main @ 2 (58 bytes)\r\n```","```\r\n812  714       3       com.baeldung.tieredcompilation.JsonFormatter::format (8 bytes)   made not entrant\r\n838 832 % 3 com.baeldung.tieredcompilation.TieredCompilation::main @ 2 (58 bytes) made not entrant\r\n```","```\r\n1015  834 %     4       com.baeldung.tieredcompilation.TieredCompilation::main @ 2 (58 bytes)   made not entrant\r\n1018  800       4       com.baeldung.tieredcompilation.JsonFormatter::format (8 bytes)   made not entrant \r\n```","```\r\n1160 1073       3       com.baeldung.tieredcompilation.XmlFormatter::format (8 bytes)\r\n1202 1141 %     3       com.baeldung.tieredcompilation.TieredCompilation::main @ 2 (58 bytes)\r\n```","```\r\n1341 1171       4       com.baeldung.tieredcompilation.XmlFormatter::format (8 bytes)\r\n1505 1213 %     4       com.baeldung.tieredcompilation.TieredCompilation::main @ 2 (58 bytes\r\n```","```\r\n1492 1073       3       com.baeldung.tieredcompilation.XmlFormatter::format (8 bytes)   made not entrant\r\n1508 1141 %     3       com.baeldung.tieredcompilation.TieredCompilation::main @ 2 (58 bytes)   made not entrant\r\n```"]