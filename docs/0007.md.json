["```\r\n<dependency>\r\n    <groupId>org.hibernate</groupId>\r\n    <artifactId>hibernate-core</artifactId>\r\n    <version>5.4.0.Final</version>\r\n</dependency> \r\n```","```\r\n<dependency>\r\n    <groupId>mysql</groupId>\r\n    <artifactId>mysql-connector-java</artifactId>\r\n    <version>8.0.13</version>\r\n</dependency>\r\n```","```\r\n@Entity\r\n@Table(name = \"MOVIE\")\r\npublic class Movie {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String movieName;\r\n\r\n    private Integer releaseYear;\r\n\r\n    private String language;\r\n\r\n    // standard constructor, getters, setters\r\n}\r\n```","```\r\n<persistence-unit name=\"com.baeldung.movie_catalog\">\r\n    <description>Hibernate EntityManager Demo</description>\r\n    <class>com.baeldung.hibernate.pojo.Movie</class> \r\n    <exclude-unlisted-classes>true</exclude-unlisted-classes>\r\n    <properties>\r\n        <property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQL5Dialect\"/>\r\n        <property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/>\r\n        <property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\"/>\r\n        <property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://127.0.0.1:3306/moviecatalog\"/>\r\n        <property name=\"javax.persistence.jdbc.user\" value=\"root\"/>\r\n        <property name=\"javax.persistence.jdbc.password\" value=\"root\"/>\r\n    </properties>\r\n</persistence-unit>\r\n```","```\r\n@PersistenceContext\r\nEntityManager entityManager; \r\n```","```\r\nEntityManagerFactory emf = Persistence.createEntityManagerFactory(\"com.baeldung.movie_catalog\");\r\n```","```\r\npublic static EntityManager getEntityManager() {\r\n    return emf.createEntityManager();\r\n}\r\n```","```\r\nEntityManagerFactory emf = // fetched from somewhere\r\nEntityManager em = emf.createEntityManager();\r\n```","```\r\nEntityManagerFactory emf = // fetched from somewhere \r\nEntityManager em = emf.createEntityManager();\r\n// use it in the current thread\r\n```","```\r\n@Service\r\npublic class MovieService {\r\n\r\n    @PersistenceContext // or even @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    // omitted\r\n}\r\n```","```\r\npublic void saveMovie() {\r\n    EntityManager em = getEntityManager();\r\n\r\n    em.getTransaction().begin();\r\n\r\n    Movie movie = new Movie();\r\n    movie.setId(1L);\r\n    movie.setMovieName(\"The Godfather\");\r\n    movie.setReleaseYear(1972);\r\n    movie.setLanguage(\"English\");\r\n\r\n    em.persist(movie);\r\n    em.getTransaction().commit();\r\n}\r\n```","```\r\npublic Movie getMovie(Long movieId) {\r\n    EntityManager em = getEntityManager();\r\n    Movie movie = em.find(Movie.class, new Long(movieId));\r\n    em.detach(movie);\r\n    return movie;\r\n}\r\n```","```\r\nMovie movieRef = em.getReference(Movie.class, new Long(movieId));\r\n```","```\r\nem.detach(movie);\r\n```","```\r\npublic void mergeMovie() {\r\n    EntityManager em = getEntityManager();\r\n    Movie movie = getMovie(1L);\r\n    em.detach(movie);\r\n    movie.setLanguage(\"Italian\");\r\n    em.getTransaction().begin();\r\n    em.merge(movie);\r\n    em.getTransaction().commit();\r\n}\r\n```","```\r\npublic List<?> queryForMovies() {\r\n    EntityManager em = getEntityManager();\r\n    List<?> movies = em.createQuery(\"SELECT movie from Movie movie where movie.language = ?1\")\r\n      .setParameter(1, \"English\")\r\n      .getResultList();\r\n    return movies;\r\n}\r\n```","```\r\npublic void removeMovie() {\r\n    EntityManager em = HibernateOperations.getEntityManager();\r\n    em.getTransaction().begin();\r\n    Movie movie = em.find(Movie.class, new Long(1L));\r\n    em.remove(movie);\r\n    em.getTransaction().commit();\r\n}\r\n```"]