# Hamcrest 普通核心匹配器

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/hamcrest-core-matchers>

## 1.概观

在这个快速教程中，我们将探索来自流行的 [Hamcrest](https://web.archive.org/web/20220601145715/http://hamcrest.org/) 框架的`CoreMatchers `类，以编写简单且更具表现力的测试用例。

这个想法是让断言语句读起来像自然语言。

## 2.Hamcrest 设置

我们可以通过将以下依赖项添加到我们的`pom.xml`文件来使用 Hamcrest 和 Maven:

[PRE0]

这个库的最新版本总是可以在这里找到。

## 3.普通核心匹配器

### **3.1。`is(T)`和`is(Matcher<T>)`**

`is(T)` 使用一个对象作为参数来检查等式，而`is(Matcher<T>)`使用另一个匹配器来让等式语句更有表现力。

**我们可以将它用于几乎所有的方法**:

[PRE1]

### **3.2。`equalTo(T)`**

`equalTo(T)`将一个对象作为参数，并检查它与另一个对象是否相等。**经常与`is(Matcher<T>)` :** 一起使用

[PRE2]

我们也可以使用`equalToObject(Object operand) – `来检查相等性，并且不强制两个对象应该是相同的静态类型:

[PRE3]

### **3.3。`not(T)`和`not(Matcher<T>)`**

`not(T)`和`not(Matcher<T>)`用于检查给定对象的不相等性。首先接受一个对象作为参数，然后接受另一个匹配器:

[PRE4]

### **3.4。`nullValue()`和`nullValue(Class<T>)`**

`nullValue() `检查被检查对象的`null `值。`nullValue(Class<T>) `检查给定类类型对象的可空性:

[PRE5]

### **3.5。`notNullValue()`和`notNullValue(Class<T>)`**

**这些都是常用的`is(not(nullValue))`的快捷方式。**这些检查一个对象或类类型的非空相等性:

[PRE6]

### **3.6。`instanceOf(Class<?>)`**

如果被检查的对象是指定的`Class`类型的实例，则`instanceOf(Class<?>)` 匹配。

**验证，该方法内部调用** `**Class **`类的 `**isIntance(Object) **` **:**

[PRE7]

### **3.7。** `isA**(Class<T> type)**`

`isA(Class<T> type)`是上述`instanceOf(Class<?>)`的快捷方式。**它采用与** `**instanceOf(Class<?>)**`完全相同的论证类型:

[PRE8]

### **3.8。`sameInstance()`**

如果两个引用变量指向堆中的同一个对象，那么`sameInstance()`匹配:

[PRE9]

### **3.9。`any(Class<T>)`**

`any(Class<T>)`检查该类是否与实际对象的类型相同:

[PRE10]

### **3.10。`allOf(Matcher<? extends T>…) and anyOf(Matcher<? extends T>…)`**

我们可以使用`allOf(Matcher<? extends T>…)`来断言实际对象是否符合所有指定的条件:

[PRE11]

`anyOf(Matcher<? extends T>…)`的行为类似于`allOf(Matcher<? extends T>… )`,但是如果被检查的对象匹配任何指定的条件，则匹配:

[PRE12]

### **3.11。`hasItem(T)`和`hasItem(Matcher<? extends T>)`**

如果被检查的`Iterable `集合与`hasItem()` 或`hasItem(Matcher<? extends T>)`中的给定对象或匹配器匹配，则这些匹配。

让我们理解这是如何工作的:

[PRE13]

**同样，** **我们也可以用** `**hasItems(T…)**` **和** `**hasItems(Matcher<? extends T>…)**`对多个项目进行断言:

[PRE14]

### **3.12。`both(Matcher<? extends T>) and either(Matcher<? extends T>)`**

顾名思义，当指定的两个条件都匹配被检查对象时，`both(Matcher<? extends T>) `匹配:

[PRE15]

当指定条件中的任一个与检查对象匹配时,`either(Matcher<? extends T>)`匹配:

[PRE16]

## **4。** `String` **对比**

我们可以使用`containsString(String)`或`containsStringIgnoringCase(String) `来断言实际字符串是否包含测试字符串:

[PRE17]

或`startsWith(String)` 和`startsWithIgnoringCase(String) `来断言实际字符串是否以测试字符串开始:

[PRE18]

我们还可以使用`endsWith(String) `或`endsWithIgnoringCase(String)`来断言实际字符串是否以测试字符串结尾:

[PRE19]

## **5。结论**

在本文中，我们讨论了`Hamcrest `库中`CoreMatchers `类的不同方法。

和往常一样，例子的源代码可以在 GitHub 上找到[。](https://web.archive.org/web/20220601145715/https://github.com/eugenp/tutorials/tree/master/testing-modules/hamcrest)