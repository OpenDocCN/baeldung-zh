["```\r\npublic class CustomClassloader extends ClassLoader {\r\n\r\n    public static final String PREFIX = \"com.baeldung.classloader\";\r\n\r\n    public CustomClassloader(ClassLoader parent) {\r\n        super(parent);\r\n    }\r\n\r\n    @Override\r\n    public Class<?> loadClass(String name) throws ClassNotFoundException {\r\n        if (name.startsWith(PREFIX)) {\r\n            return getClass(name);\r\n        } else {\r\n            return super.loadClass(name);\r\n        }\r\n    }\r\n\r\n    ...\r\n}\r\n```","```\r\nprivate Class<?> getClass(String name) {\r\n    String fileName = name.replace('.', File.separatorChar) + \".class\";\r\n    try {\r\n        byte[] byteArr = IOUtils.toByteArray(getClass().getClassLoader().getResourceAsStream(fileName));\r\n        Class<?> c = defineClass(name, byteArr, 0, byteArr.length);\r\n        resolveClass(c);\r\n        return c;\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n} \r\n```","```\r\npublic class GarbageCollectedStaticFieldHolder {\r\n\r\n    private static GarbageCollectedInnerObject garbageCollectedInnerObject =\r\n      new GarbageCollectedInnerObject(\"Hello from a garbage collected static field\");\r\n\r\n    public void printValue() {\r\n        System.out.println(garbageCollectedInnerObject.getMessage());\r\n    }\r\n}\r\n```","```\r\nclass GarbageCollectedInnerObject {\r\n\r\n    private final String message;\r\n\r\n    public GarbageCollectedInnerObject(final String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    @Override\r\n    protected void finalize() {\r\n        System.out.println(\"The object is garbage now\");\r\n    }\r\n}\r\n```","```\r\nprivate static void loadClass() {\r\n    try {\r\n        final String className = \"com.baeldung.classloader.GarbageCollectedStaticFieldHolder\";\r\n        CustomClassloader loader = new CustomClassloader(Main.class.getClassLoader());\r\n        Class<?> clazz = loader.loadClass(className);\r\n        Object instance = clazz.getConstructor().newInstance();\r\n        clazz.getMethod(METHOD_NAME).invoke(instance);\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```","```\r\nHello from a garbage collected static field\r\n```","```\r\npublic static void main(String[] args) throws InterruptedException {\r\n    loadClass();\r\n    System.gc();\r\n    Thread.sleep(1000);\r\n} \r\n```","```\r\npublic static void main(String[] args) throws InterruptedException {\r\n    CustomClassloader loader;\r\n    Class<?> clazz;\r\n    Object instance;\r\n    try {\r\n        final String className = \"com.baeldung.classloader.GarbageCollectedStaticFieldHolder\";\r\n        loader = new CustomClassloader(GarbageCollectionNullExample.class.getClassLoader());\r\n        clazz = loader.loadClass(className);\r\n        instance = clazz.getConstructor().newInstance();\r\n        clazz.getMethod(METHOD_NAME).invoke(instance);\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    loader = null;\r\n    clazz = null;\r\n    instance = null;\r\n    System.gc();\r\n    Thread.sleep(1000);\r\n}\r\n```","```\r\nHello from a garbage collected static field \r\nThe object is garbage now\r\n```","```\r\npublic static void main(String[] args) {\r\n    while (true) {\r\n        loadClass();\r\n    }\r\n}\r\n```"]