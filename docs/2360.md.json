["```\r\ncurl -d @request.xml -i -o -X POST --header 'Content-Type: text/xml'\r\n  http://localhost:18080/ws/users\r\n```","```\r\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\r\n  xmlns:feig=\"http://www.baeldung.com/springbootsoap/feignclient\">\r\n    <soapenv:Header/>\r\n    <soapenv:Body>\r\n         <feig:createUserRequest>\r\n             <feig:user>\r\n                 <feig:id>1</feig:id>\r\n                 <feig:name>john doe</feig:name>\r\n                 <feig:email>[[email protected]](/web/20220524062502/https://www.baeldung.com/cdn-cgi/l/email-protection)</feig:email>\r\n            </feig:user>\r\n         </feig:createUserRequest>\r\n    </soapenv:Body>\r\n</soapenv:Envelope>\r\n```","```\r\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\r\n    <SOAP-ENV:Header/>\r\n    <SOAP-ENV:Body>\r\n        <ns2:createUserResponse xmlns:ns2=\"http://www.baeldung.com/springbootsoap/feignclient\">\r\n            <ns2:message>Success! Created the user with id - 1</ns2:message>\r\n        </ns2:createUserResponse>\r\n    </SOAP-ENV:Body>\r\n</SOAP-ENV:Envelope>\r\n```","```\r\n<dependency>\r\n    <groupId>io.github.openfeign</groupId>\r\n    <artifactId>feign-hc5</artifactId>\r\n    <version>11.8</version>\r\n</dependency>\r\n```","```\r\npublic interface SoapClient {\r\n    @RequestLine(\"POST\")\r\n    @Headers({\"SOAPAction: createUser\", \"Content-Type: text/xml;charset=UTF-8\",\r\n      \"Accept: text/xml\"})\r\n    String createUserWithPlainText(String soapBody);\r\n}\r\n```","```\r\n@Test\r\nvoid givenSOAPPayload_whenRequest_thenReturnSOAPResponse() throws Exception {\r\n    String successMessage=\"Success! Created the user with id\";\r\n    SoapClient client = Feign.builder()\r\n       .client(new ApacheHttp5Client())\r\n       .target(SoapClient.class, \"http://localhost:18080/ws/users/\");\r\n\r\n    assertDoesNotThrow(() -> client.createUserWithPlainText(soapPayload()));\r\n\r\n    String soapResponse= client.createUserWithPlainText(soapPayload());\r\n\r\n    assertNotNull(soapResponse);\r\n    assertTrue(soapResponse.contains(successMessage));\r\n} \r\n```","```\r\n<dependency>\r\n    <groupId>io.github.openfeign</groupId>\r\n    <artifactId>feign-slf4j</artifactId>\r\n    <version>11.8</version>\r\n</dependency>\r\n```","```\r\nSoapClient client = Feign.builder()\r\n  .client(new ApacheHttp5Client())\r\n  .logger(new Slf4jLogger(SoapClient.class))\r\n  .logLevel(Logger.Level.FULL)\r\n  .target(SoapClient.class, \"http://localhost:18080/ws/users/\");\r\n```","```\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \"SOAPAction: createUser[\\r][\\n]\"\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\r\n  xmlns:feig=\"http://www.baeldung.com/springbootsoap/feignclient\">[\\n]\"\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" <soapenv:Header/>[\\n]\"\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" <soapenv:Body>[\\n]\"\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" <feig:createUserRequest>[\\n]\"\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" <feig:user>[\\n]\"\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" <feig:id>1</feig:id>[\\n]\"\r\n18:01:58.295 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" <feig:name>john doe</feig:name>[\\n]\"\r\n18:01:58.296 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" <feig:email>[[email protected]](/web/20220524062502/https://www.baeldung.com/cdn-cgi/l/email-protection)</feig:email>[\\n]\"\r\n18:01:58.296 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" </feig:user>[\\n]\"\r\n18:01:58.296 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" </feig:createUserRequest>[\\n]\"\r\n18:01:58.296 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \" </soapenv:Body>[\\n]\"\r\n18:01:58.296 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 >> \"</soapenv:Envelope>\"\r\n18:01:58.300 [main] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 << \"<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"><SOAP-ENV:Header/><SOAP-ENV:Body><ns2:createUserResponse xmlns:ns2=\"http://www.baeldung.com/springbootsoap/feignclient\"><ns2:message>Success! Created the user with id - 1</ns2:message></ns2:createUserResponse></SOAP-ENV:Body></SOAP-ENV:Envelope>\" \r\n```","```\r\n<dependency>\r\n    <groupId>io.github.openfeign</groupId>\r\n    <artifactId>feign-soap</artifactId>\r\n    <version>11.8</version>\r\n</dependency>\r\n```","```\r\n<plugin>\r\n    <groupId>org.jvnet.jaxb2.maven2</groupId>\r\n    <artifactId>maven-jaxb2-plugin</artifactId>\r\n    <version>0.14.0</version>\r\n    <executions>\r\n        <execution>\r\n            <id>feign-soap-stub-generation</id>\r\n            <phase>compile</phase>\r\n            <goals>\r\n                <goal>generate</goal>\r\n            </goals>\r\n            <configuration>\r\n                <schemaDirectory>target/generated-sources/jaxb</schemaDirectory>\r\n                <schemaIncludes>\r\n                    <include>*.xsd</include>\r\n                </schemaIncludes>\r\n                <generatePackage>com.baeldung.feign.soap.client</generatePackage>\r\n                <generateDirectory>target/generated-sources/jaxb</generateDirectory>\r\n            </configuration>\r\n        </execution>\r\n    </executions>\r\n</plugin>\r\n```","```\r\nmvn clean compile\r\n```","```\r\n@RequestLine(\"POST\")\r\n@Headers({\"Content-Type: text/xml;charset=UTF-8\"})\r\nCreateUserResponse createUserWithSoap(CreateUserRequest soapBody);\r\n```","```\r\n@Test\r\nvoid whenSoapRequest_thenReturnSoapResponse() {\r\n    JAXBContextFactory jaxbFactory = new JAXBContextFactory.Builder()\r\n      .withMarshallerJAXBEncoding(\"UTF-8\").build();\r\n    SoapClient client = Feign.builder()\r\n      .encoder(new SOAPEncoder(jaxbFactory))\r\n      .decoder(new SOAPDecoder(jaxbFactory))\r\n      .target(SoapClient.class, \"http://localhost:18080/ws/users/\");\r\n    CreateUserRequest request = new CreateUserRequest();\r\n    User user = new User();\r\n    user.setId(\"1\");\r\n    user.setName(\"John Doe\");\r\n    user.setEmail(\"[[email protected]](/web/20220524062502/https://www.baeldung.com/cdn-cgi/l/email-protection)\");\r\n    request.setUser(user);\r\n    CreateUserResponse response = client.createUserWithSoap(request);\r\n\r\n    assertNotNull(response);\r\n    assertNotNull(response.getMessage());\r\n    assertTrue(response.getMessage().contains(\"Success\")); \r\n}\r\n```","```\r\nSoapClient client = Feign.builder()\r\n  .encoder(new SOAPEncoder(jaxbFactory))\r\n  .errorDecoder(new SOAPErrorDecoder())\r\n  .logger(new Slf4jLogger())\r\n  .logLevel(Logger.Level.FULL)\r\n  .decoder(new SOAPDecoder(jaxbFactory))\r\n  .target(SoapClient.class, \"http://localhost:18080/ws/users/\"); \r\n```","```\r\nSoapClient client = Feign.builder()\r\n  .encoder(new SOAPEncoder(jaxbFactory))\r\n  .errorDecoder(new SOAPErrorDecoder())  \r\n  .decoder(new SOAPDecoder(jaxbFactory))\r\n  .target(SoapClient.class, \"http://localhost:18080/ws/users/\");\r\ntry {\r\n    client.createUserWithSoap(request);\r\n} catch (SOAPFaultException soapFaultException) {\r\n    assertNotNull(soapFaultException.getMessage());\r\n    assertTrue(soapFaultException.getMessage().contains(\"This is a reserved user id\"));\r\n}\r\n```"]