# 理解 Java 中的& 0xff 值

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/java-and-0xff>

## 1.概观

`**0xff**` **是十六进制数字系统** **中表示的数字(基数为 16)。**由两个十六进制的`F`数字组成。我们知道，`F`在十六进制中相当于二进制数制中的 1111。所以，`0xff`在二进制中是 11111111。

在本文中，我们将发现如何使用`0xff`值。此外，我们将看到如何使用多种数据类型来表示它，以及如何通过`&`操作符来使用它。最后，我们将回顾一下使用它的一些好处。

## 2.用不同的数据类型表示`0xff`

Java 允许我们通过使用前缀`0x`后跟一个整数来定义解释为十六进制(基数为 16)的数字。

**值`0xff`相当于无符号十进制的 255，有符号十进制的-127，二进制的 11111111。**

所以，如果我们定义一个值为`0xff`、**的`int`变量，由于**、 **Java 用 32 位**、**表示整数，`0xff`的值为 255** :

```
int x = 0xff;
assertEquals(255, x);
```

然而，如果我们用值`0xff`、**定义一个`byte`变量，因为 Java 使用 8 位表示一个字节，并且因为一个字节是有符号数据类型**、**,`0xff`的值是-1** :

```
byte y = (byte) 0xff;
assertEquals(-1, y);
```

正如我们所看到的，当我们用`0xff`值定义一个`byte`变量时，我们需要将其向下转换为一个`byte`，因为`byte`数据类型的范围是从-128 到 127 的**。**

## 3.`& 0xff`操作的常见用法

**`&`运算符执行一个[位与运算](/web/20221112094347/https://www.baeldung.com/java-bitwise-operators#2-bitwiseand-amp)** 。如果两个操作数的对应位为 1，则按位 AND 的输出为 1。另一方面，如果操作数的任一位为 0，则相应位的结果被评估为 0。

**由于`0xff`的最后 8 位**中有 8 个 1，所以它成为按位 AND 运算的**恒等元素。因此，如果我们应用`x & 0xff`运算，**将给出来自`x`T10 的最低 8 位。注意，如果数字`x`小于 255，它仍然是一样的。否则，它将是来自`x`的最低 8 位。****

一般来说， **`& 0xff`运算为我们提供了一种从一个数**中提取最低 8 位的简单方法。我们实际上可以用它来提取我们需要的任何 8 位，因为我们可以将 8 位中的任何一位右移，成为最低位。然后，我们可以通过应用`& 0xff`操作来提取它们。

让我们看一个例子来更详细地解释使用`& 0xff`的一些好处。

## 4.使用& `0xff`提取 RGBA 颜色坐标

假设我们有一个存储在 32 位中的整数`x`，它代表 RGBA 系统中的一种颜色，这意味着每个参数(R、G、B 和 A)有 8 位:

*   R = 16(二进制为 00010000)
*   G = 57(二进制为 00111001)
*   B = 168(二进制为 10101000)
*   A = 7(二进制为 00000111)

**因此，`x`在二进制中会表示为 00010000 00111001 10101000 00000111，这相当于十进制中的 272214023。**

现在，我们有了十进制的`x`值，我们想提取每个参数的值。

众所周知，>>运算将位向右移位。因此，当我们这样做时(100000000000000 > > 8)，它给了我们 10000000。**因此，我们可以提取每个参数的值**:

```
int rgba = 272214023;

int r = rgba >> 24 & 0xff;
assertEquals(16, r);

int g = rgba >> 16 & 0xff;
assertEquals(57, g);

int b = rgba >> 8 & 0xff;
assertEquals(168, b);

int a = rgba & 0xff;
assertEquals(7, a);
```

## 5.结论

**在本教程中，我们已经讨论了`& 0xff`操作如何有效地划分变量，只留下最后 8 位的值，而忽略其余的位。**正如我们已经看到的，当我们右移一个变量并需要提取移位的位时，这个操作特别有用。

和往常一样，本文中的代码可以从 GitHub 上的[处获得。](https://web.archive.org/web/20221112094347/https://github.com/eugenp/tutorials/tree/master/core-java-modules/core-java-numbers-4)