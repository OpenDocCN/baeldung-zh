["```\r\n<dependency>\r\n    <groupId>com.amazonaws</groupId>\r\n    <artifactId>aws-java-sdk</artifactId>\r\n    <version>1.11.290</version>\r\n</dependency>\r\n```","```\r\nAmazonS3 amazonS3 = AmazonS3ClientBuilder\r\n  .standard()\r\n  .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n  .withRegion(Regions.DEFAULT_REGION)\r\n  .build();\r\n```","```\r\nTransferManager tm = TransferManagerBuilder.standard()\r\n  .withS3Client(amazonS3)\r\n  .withMultipartUploadThreshold((long) (5 * 1024 * 1025))\r\n  .build();\r\n```","```\r\nString bucketName = \"baeldung-bucket\";\r\nString keyName = \"my-picture.jpg\";\r\nString file = new File(\"documents/my-picture.jpg\");\r\nUpload upload = tm.upload(bucketName, keyName, file);\r\n```","```\r\ntry {\r\n    upload.waitForCompletion();\r\n} catch (AmazonClientException e) {\r\n    // ...\r\n}\r\n```","```\r\nProgressListener progressListener = progressEvent -> System.out.println(\r\n  \"Transferred bytes: \" + progressEvent.getBytesTransferred());\r\nPutObjectRequest request = new PutObjectRequest(\r\n  bucketName, keyName, file);\r\nrequest.setGeneralProgressListener(progressListener);\r\nUpload upload = tm.upload(request);\r\n```","```\r\nint maxUploadThreads = 5;\r\nTransferManager tm = TransferManagerBuilder.standard()\r\n  .withS3Client(amazonS3)\r\n  .withMultipartUploadThreshold((long) (5 * 1024 * 1025))\r\n  .withExecutorFactory(() -> Executors.newFixedThreadPool(maxUploadThreads))\r\n  .build();\r\n```"]