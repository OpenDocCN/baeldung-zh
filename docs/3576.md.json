["```\r\n<dependency>\r\n    <groupId>org.apache.httpcomponents</groupId>\r\n    <artifactId>httpcore</artifactId>\r\n    <version>4.4.13</version>\r\n</dependency>\r\n```","```\r\ncompile 'org.apache.httpcomponents:httpcore:4.4.13'\r\n```","```\r\nProxy proxy = new Proxy(Type.HTTP, new InetSocketAddress(PROXY_SERVER_HOST, PROXY_SERVER_PORT));\r\nSimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\nrequestFactory.setProxy(proxy);\r\n```","```\r\nRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n```","```\r\nResponseEntity<String> responseEntity = restTemplate.getForEntity(\"http://httpbin.org/get\", String.class);\r\n\r\nassertThat(responseEntity.getStatusCode(), is(equalTo(HttpStatus.OK)));\r\n```","```\r\nclass ProxyCustomizer implements RestTemplateCustomizer {\r\n\r\n    @Override\r\n    public void customize(RestTemplate restTemplate) {\r\n        HttpHost proxy = new HttpHost(PROXY_SERVER_HOST, PROXY_SERVER_PORT);\r\n        HttpClient httpClient = HttpClientBuilder.create()\r\n            .setRoutePlanner(new DefaultProxyRoutePlanner(proxy) {\r\n                @Override\r\n                public HttpHost determineProxy(HttpHost target, HttpRequest request, HttpContext context) throws HttpException {\r\n                    return super.determineProxy(target, request, context);\r\n                }\r\n            })\r\n            .build();\r\n        restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory(httpClient));\r\n    }\r\n}\r\n```","```\r\nRestTemplate restTemplate = new RestTemplateBuilder(new ProxyCustomizer()).build();\r\n```","```\r\nResponseEntity<String> responseEntity = restTemplate.getForEntity(\"http://httpbin.org/get\", String.class);\r\nassertThat(responseEntity.getStatusCode(), is(equalTo(HttpStatus.OK)));\r\n```"]