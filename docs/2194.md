# 瓦丁简介

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/vaadin>

## **1。概述**

Vaadin 是一个用于创建 web 用户界面的服务器端 Java 框架。使用它，我们可以使用 Java 特性创建我们的前端。

## **2。Maven 依赖性和设置**

让我们从向我们的`pom.xml`添加以下依赖项开始:

[PRE0]

相关依赖的最新版本可以在这里找到:[vaa din-服务器](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22com.vaadin%22%20AND%20a%3A%22vaadin-server%22)，[vaa din-客户端-编译](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22com.vaadin%22%20AND%20a%3A%22vaadin-client-compiled%22)，[vaa din-主题](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22com.vaadin%22%20AND%20a%3A%22vaadin-themes%22)。

*   包——包括处理所有服务器细节的类，如会话、客户端通信等。
*   `vaadin-client-compiled`–基于 GWT，包括编译客户端所需的软件包
*   包括一些预先制作的主题和所有制作主题的工具

为了编译我们的 Vaadin 小部件，我们需要配置 [maven-war-plugin](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.plugins%22%20AND%20a%3A%22maven-war-plugin%22) 、 [vaadin-maven-plugin](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22com.vaadin%22%20AND%20a%3A%22vaadin-maven-plugin%22) 和 [maven-clean-plugin](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.plugins%22%20AND%20a%3A%22maven-clean-plugin%22) 。对于完整的 pom，一定要检查源代码中的 pom 文件——在教程的最后。

此外，我们还需要添加 Vaadin 存储库和依赖性管理:

[PRE1]

标签`DependencyManagement` 控制所有 Vaadin `dependencies.`的版本

为了快速运行应用程序，我们将使用 Jetty 插件:

[PRE2]

插件的最新版本可以在这里找到: [jetty-maven-plugin](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22org.eclipse.jetty%22%20AND%20a%3A%22jetty-maven-plugin%22) 。

有了这个插件，我们可以使用以下命令运行我们的项目:

[PRE3]

## **3。瓦丁是什么？**

**简单来说，Vaadin 是一个用于创建用户界面**的 Java 框架，有主题和组件，还有很多可扩展性选项。

**该框架也覆盖了服务器端**，这意味着你对用户界面所做的每一个更改都会被立即发送到服务器端——所以后端应用程序随时都知道前端发生了什么。

**Vaadin 由客户端和服务器端**组成——客户端构建在众所周知的 Google Widget Toolkit 框架之上，服务器端由`VaadinServlet`处理。

## **4。Servlet**

通常，Vaadin 应用程序不使用`web.xml`文件；相反，它使用注释定义了它的`servlet`:

[PRE4]

在这种情况下，这个 servlet 从`/VAADIN`路径提供内容。

## **5。主类**

servlet 中引用的`VaadinUI`类必须从框架中扩展 UI 类，并且必须覆盖`init`方法，以完成启用了 Vaadin 的应用程序的引导。

下一步是创建一个布局并将其添加到应用程序的主布局中:

[PRE5]

## **6。Vaadin 布局管理器**

该框架附带了许多预定义的布局管理器。

### **6.1。`VerticalLayout`**

将组件堆叠在一列上，第一个添加的组件在顶部，最新添加的组件在底部:

[PRE6]

注意这里的属性是如何松散地借用典型的 CSS 术语的。

### **6.2。`HorizontalLayout`**

这种布局将每个组件从左到右并排放置，类似于垂直布局:

[PRE7]

### **6.3。`GridLayout`**

这种布局将每个小部件放在一个网格中，您需要将网格的列和行作为参数传递:

[PRE8]

### **6.4。`FormLayout`**

表单布局将标题和组件放在两个不同的列中，并且必填字段可以有可选的指示器:

[PRE9]

## **7。Vaadin 组件**

现在布局已经处理好了，让我们看看一些用于构造用户界面的更常见的组件。

### **7.1。`Label`**

[![label](img/bdc6433eead549aa2ac0cc56387d4dc4.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/label.png)

当然，标签也是众所周知的——只是用来显示文本:

[PRE10]

创建组件后，请注意将它添加到布局的关键步骤。

### **7.2。`Link`**

[![link](img/0f416c661868930485ea6b8631032105.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/link.png)

`link`小部件本质上是一个基本的超链接:

[PRE11]

请注意，`<a>`元素的典型 HTML 值都在这里。

### **7.3。`TextField`**

[![textfield](img/2fa05706a11923e5983b889c8214dd83.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/textfield.png)

该小部件用于输入文本:

[PRE12]

我们可以进一步定制元素；例如，我们可以通过`setIcon()` API 向小部件快速添加图像。

另外，注意 **Font Awesome 是和框架**一起开箱即用的；它被定义为一个枚举，我们可以很容易地利用它。

### **7.4。`TextArea`**

[![textarea](img/fb24bc1aa624bc09d658b44f2a49a3fb.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/textarea.png)

正如您所料，`TextArea`位于传统 HTML 元素的旁边:

[PRE13]

### **7.5。`DateField`和`InlineDateField`**

[![datefield](img/ee255b76c58246d62ccbf2f3b5274f01.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/datefield.png)

这个强大的组件用于挑选日期；date 参数是要在小部件中选择的当前日期:

[PRE14]

[![inlinedatefield](img/c7a862e95792ea4c93491e3746a19dec.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/inlinedatefield.png)

我们可以更进一步，将它嵌套在一个`combo box`控件中以节省空间:

[PRE15]

### **7.6。`PasswordField`**

[![passwordfield](img/e3b7bd645bcc00b5c6ff63d0c9ce02ef.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/passwordfield.png)

这是标准的屏蔽密码输入:

[PRE16]

### **7.7。`RichTextArea`**

[![richtextarea](img/5c37517d01c048eba13008a2c5fdf680.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/richtextarea.png)

有了这个组件，我们可以显示格式化的文本，它提供了一个界面来操纵这样的文本，用按钮来控制字体、大小、对齐等。

[PRE17]

### **7.8。`Button`**

[![buttons](img/3ce522f408f90950b759b7c8bd2d3880.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/buttons.png)

按钮用于捕捉用户输入，有各种大小和颜色。

为了创建一个按钮，我们像往常一样实例化 widget 类:

[PRE18]

改变风格我们可以有一些不同的按钮:

[PRE19]

我们可以创建一个禁用按钮:

[PRE20]

使用浏览器外观的本机按钮:

[PRE21]

和一个带图标的按钮:

[PRE22]

### **7.9。`CheckBox`**

[![checkbox](img/70c777fcee3ff7d212baa5f9db6bef8d.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/checkbox.png)

该复选框是一个变更状态元素，已选中或未选中:

[PRE23]

### **7.10。`Lists`**

Vaadin 有一些有用的小部件来处理列表。

首先，我们创建一个要放入小部件的项目列表:

[PRE24]

`ComboBox`是一个下拉列表:

[![combobox](img/07c16e1d3513e90141c80deb7c54935c.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/combobox.png)

[PRE25]

`ListSelect` 垂直放置项目并在溢出时使用滚动条:

[![listselect](img/f9d782deaa8007b9219249de96666583.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/listselect.png)

[PRE26]

`NativeSelect`与`ComboBox`相似，但具有浏览器的外观和感觉:

[![nativeselect](img/7b0e3cbcfc0272e28954c65265b18c7a.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/nativeselect.png)

[PRE27]

`TwinColSelect`是一个双重列表，我们可以在这两个窗格之间改变项目；每个项目一次只能位于一个窗格中:

[![twincolselect](img/40ce23dd8a9098937a648f29a0ce01e4.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/twincolselect.png)

[PRE28]

### **7.11。`Grid`**

网格用于以矩形方式显示数据；你有行和列，可以为数据定义页眉和页脚:

[![grid](img/261a43cc924a429c8aee673b0423dd7e.png)](/web/20220802010221/https://www.baeldung.com/wp-content/uploads/2017/07/grid.png)

[PRE29]

上面的`Row`类是一个简单的 POJO，我们添加它来表示一行:

[PRE30]

## **8。服务器推送**

另一个有趣的特性是能够从服务器向 UI 发送消息。

要使用服务器推送，我们需要将以下依赖项添加到我们的`pom.xml:`

[PRE31]

依赖关系的最新版本可以在这里找到: [vaadin-push](https://web.archive.org/web/20220802010221/https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22com.vaadin%22%20AND%20a%3A%22vaadin-push%22) 。

此外，我们需要将`@Push`注释添加到表示 UI 的类中:

[PRE32]

我们创建一个标签来捕获服务器推送消息:

[PRE33]

然后我们创建一个`ScheduledExecutorService`，它将时间从服务器发送到`label`:

[PRE34]

`ScheduledExecutorService`运行在应用程序的服务器端，每次运行时，用户界面都会更新。

## **9。数据绑定**

我们可以将用户界面绑定到业务类。

首先，我们创建一个 Java 类:

[PRE35]

然后，我们将只有一个字段的类绑定到用户界面中的一个`TextField`:

[PRE36]

首先，我们使用之前创建的类创建一个`BindData`对象，然后`Binder`将字段绑定到`TextField.`

## 10。验证器

我们可以创建`Validators`来验证输入字段中的数据。为此，我们将验证器附加到我们想要验证的字段:

[PRE37]

然后，我们在使用数据之前对其进行验证:

[PRE38]

在这种情况下，我们使用`StringLengthValidator`来验证`String`的长度，但是 Vaadin 提供了其他有用的验证器，并且允许我们创建自己的自定义验证器。

## **11。总结**

当然，这篇快速的文章仅仅触及了皮毛；该框架不仅仅是用户界面小部件，Vaadin 提供了使用 Java 创建现代 web 应用程序所需的一切。

和往常一样，代码可以在 Github 上找到[。](https://web.archive.org/web/20220802010221/https://github.com/eugenp/tutorials/tree/master/vaadin)