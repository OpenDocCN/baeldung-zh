# 垃圾收集器根指南

> 原文：<https://web.archive.org/web/20220930061024/https://www.baeldung.com/java-gc-roots>

## 1.概观

在本教程中，我们将学习什么是垃圾收集器根(GC 根)。此外，我们将描述 GC 根的类型。之后，我们将展示 GC 根和活动对象之间的区别。

## 2.GC 根定义

我们先来定义一下什么是 GC 根。GC root 是在 Java 中的[垃圾收集](/web/20220922115443/https://www.baeldung.com/java-system-gc#garbage%20collection)的上下文中使用的一个术语。**它们是垃圾收集者的特殊物品。**顾名思义，GC 根是垃圾收集器进程的起点。一般来说，所有从 GC 根直接或间接引用的对象都不会被垃圾收集。

## 3.GC 根的类型

让我们来看看 GC 根的主要类型:

*   类:由系统类加载器加载的类；还包含对静态变量的引用
*   堆栈局部:存储在局部堆栈上的方法的局部变量和参数
*   活动 Java 线程:所有活动 Java 线程
*   JNI 参考:为 JNI 调用创建的本机代码 Java 对象；包含局部变量、JNI 方法的参数和全局 JNI 引用

此外，还有一些更可能的 GC 根类型:

*   用作同步监视器的对象
*   JVM 实现定义的特定对象，这些对象不是为其目的而进行垃圾收集的。其中可能包含重要的异常类、系统类加载器或自定义类加载器

**此外，每个 JVM 都没有关于哪些特定对象是 GC 根的文档**。一些流行的 Java IDEs 为[提供了从 GC 根角度分析内存](https://web.archive.org/web/20220922115443/https://www.jetbrains.com/help/idea/analyze-hprof-memory-snapshots.html#read-snapshot)的功能。这在分析应用程序中的[内存泄漏](/web/20220922115443/https://www.baeldung.com/java-memory-leaks)时非常有用。

## 4.GC 根与活动对象

现在让我们看看垃圾收集过程中定义的活动对象。

应用程序主动使用的所有对象都是 GC 的活动对象。此外，垃圾收集器不会删除活动对象。 **GC 根是一种特殊类型的生命体。**因此**，**根据定义，所有 GC 根都是活的对象。

## 5.垃圾收集器对 GC 根的使用

现在让我们看看垃圾收集过程中 GC 根的用法。

事实上，HotSpot JVM 中所有的 GC 实现都是[跟踪收集器](/web/20220922115443/https://www.baeldung.com/java-gc-cyclic-references#tracing-gcs)。 GC 通过遍历对象图来识别所有活动对象。此外，被访问并标记为活动的对象不会被垃圾收集。为了能够遍历图形，起点是必要的。因此， **GC 根是追踪收集者**的起点。

GC 从根开始遍历图，并将图中所有访问过的对象标记为活动的。该过程为应用程序中定义的每个 GC 根执行。此外，它处理从所有 GC 根开始的所有图。然后，它将所有访问过的对象标记为活动的。之后，所有没有被访问过的对象都被垃圾回收。

## 6.结论

在这篇短文中，我们解释了什么是 GC 根。然后，我们描述了 GC 根的类型。接下来，我们展示了 GC 根和活动对象之间的区别。最后，我们解释了垃圾收集过程中 GC 根的用法。