["```\r\n# Create MySQL container \r\ndocker run --network host --name example_db -e MYSQL_ROOT_PASSWORD=root -d mysql\r\n```","```\r\n# Logging in MySQL \r\ndocker exec -it example_db mysql -uroot -p\r\n```","```\r\nCREATE DATABASE example_db;\r\nUSE example_db;\r\nCREATE TABLE zipcode ( \r\n    code varchar(100) not null, \r\n    city varchar(100) not null, \r\n    country varchar(3) not null,\r\n    PRIMARY KEY (code) \r\n);\r\nINSERT INTO zipcode(code, city, country) \r\nVALUES ('08025', 'Barcelona', 'ESP'), \r\n       ('10583', 'New York', 'USA'), \r\n       ('11075-430', 'Santos', 'BRA'), \r\n       ('SW6', 'London', 'GBR'); \r\n```","```\r\nUSE example_db;\r\n-- Set our timeout to 10 seconds\r\nSET @@SESSION.innodb_lock_wait_timeout = 10; \r\n```","```\r\nSET autocommit=0;\r\nUPDATE zipcode SET code = 'SW6 1AA' WHERE code = 'SW6';\r\n```","```\r\nmysql>  UPDATE zipcode SET code = 'SW6 1AA' WHERE code = 'SW6';\r\nERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction \r\n```","```\r\nSET autocommit=0;\r\nUPDATE zipcode SET code = 'Test' WHERE code = '08025';\r\n```","```\r\nSELECT * FROM performance_schema.data_locks;\r\n```","```\r\nSET autocommit=0;\r\nUPDATE zipcode SET city = 'SW6 1AA' WHERE country = 'USA';\r\n```","```\r\nSET autocommit=0;\r\nUPDATE zipcode SET city = '11025-030' WHERE country = 'BRA';\r\n```","```\r\nCREATE TABLE zipcode_backup SELECT * FROM zipcode;\r\nSET autocommit=0;\r\nDELETE FROM zipcode_backup WHERE code IN (SELECT code FROM zipcode); \r\n```","```\r\nSET autocommit=0;\r\nUPDATE zipcode SET code = 'SW6 1AA' WHERE code = 'SW6';\r\n```","```\r\nCREATE TEMPORARY TABLE temp_zipcode SELECT * FROM zipcode; \r\n```","```\r\nSET autocommit=0;\r\nSELECT * FROM zipcode WHERE code = 'SW6' LOCK IN SHARE MODE;\r\n```","```\r\nSET autocommit=0;\r\nSELECT * FROM zipcode WHERE code = 'SW6' FOR UPDATE;\r\n```","```\r\nLOCK TABLE zipcode WRITE; \r\n```","```\r\nSHOW PROCESSLIST;\r\n```","```\r\nUNLOCK TABLES;\r\n```","```\r\nCREATE TABLE address_type ( id bigint(20) not null, name varchar(255) not null, PRIMARY KEY (id) );\r\nSET autocommit=0;\r\nINSERT INTO address_type(id, name) VALUES (1, 'Street'), (2, 'Avenue'), (5, 'Square');\r\nCOMMIT;\r\nSET autocommit=0;\r\nSELECT * FROM address_type WHERE id BETWEEN 1 and 5 LOCK IN SHARE MODE;\r\n```","```\r\nSET autocommit=0;\r\nINSERT INTO address_type(id, name) VALUES (3, 'Road'), (4, 'Park');\r\n```","```\r\nSET autocommit=0;\r\nSELECT * FROM address_type WHERE id = 1 FOR UPDATE;\r\nSELECT tx.trx_id FROM information_schema.innodb_trx tx WHERE tx.trx_mysql_thread_id = connection_id(); \r\n```","```\r\nSET autocommit=0;\r\nSELECT * FROM address_type WHERE id = 2 FOR UPDATE;\r\nSELECT tx.trx_id FROM information_schema.innodb_trx tx WHERE tx.trx_mysql_thread_id = connection_id();\r\nSELECT * FROM address_type WHERE id = 1 FOR UPDATE;\r\n```","```\r\nSELECT * FROM address_type WHERE id = 2 FOR UPDATE;\r\n```","```\r\nERROR 1213 (40001): Deadlock found when trying to get lock; try restarting transaction \r\n```","```\r\nSHOW ENGINE INNODB STATUS;\r\n```","```\r\n------------------------\r\nLATEST DETECTED DEADLOCK\r\n------------------------\r\n*** (1) TRANSACTION:\r\nTRANSACTION 4036, ACTIVE 11 sec starting index read\r\nmysql tables in use 1, locked 1\r\nLOCK WAIT 3 lock struct(s), heap size 1128, 2 row lock(s)\r\nMySQL thread id 9, OS thread handle 139794615064320, query id 252...\r\nSELECT * FROM address_type WHERE id = 1 FOR UPDATE\r\n*** (1) HOLDS THE LOCK(S):\r\nRECORD LOCKS ... index PRIMARY of table `example_db`.`address_type` trx id 4036 lock_mode X locks rec but not gap\r\nRecord lock \r\n...\r\n\r\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\r\nRECORD LOCKS ... index PRIMARY of table `example_db`.`address_type` trx id 4036 lock_mode X locks rec but not gap waiting\r\nRecord lock\r\n...\r\n*** (2) TRANSACTION:\r\nTRANSACTION 4035, ACTIVE 59 sec starting index read\r\nmysql tables in use 1, locked 1\r\nLOCK WAIT 3 lock struct(s), ... , 2 row lock(s)\r\nMySQL thread id 11, .. query id 253 ...\r\nSELECT * FROM address_type WHERE id = 2 FOR UPDATE\r\n*** (2) HOLDS THE LOCK(S):\r\nRECORD LOCKS ... index PRIMARY of table `example_db`.`address_type` trx id 4035 lock_mode X locks rec but not gap\r\nRecord lock\r\n...\r\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\r\nRECORD LOCKS ... index PRIMARY of table `example_db`.`address_type` trx id 4035 lock_mode X locks rec but not gap waiting\r\nRecord lock\r\n...\r\n*** WE ROLL BACK TRANSACTION (2)\r\n------------\r\nTRANSACTIONS\r\n------------\r\nTrx id counter 4037\r\n...\r\nLIST OF TRANSACTIONS FOR EACH SESSION:\r\n...\r\n---TRANSACTION 4036, ACTIVE 18 sec\r\n3 lock struct(s), heap size 1128, 2 row lock(s)\r\nMySQL thread id 9, ... , query id 252 ... \r\n```"]