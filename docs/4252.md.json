["```\r\n-XX:+UseCompressedStrings\r\n```","```\r\nprivate final char[] value;\r\n```","```\r\nprivate final byte[] value;\r\n```","```\r\nprivate final byte coder;\r\n```","```\r\nstatic final byte LATIN1 = 0;\r\nstatic final byte UTF16 = 1;\r\n```","```\r\npublic int indexOf(int ch, int fromIndex) {\r\n    return isLatin1() \r\n      ? StringLatin1.indexOf(value, ch, fromIndex) \r\n      : StringUTF16.indexOf(value, ch, fromIndex);\r\n}  \r\n\r\nprivate boolean isLatin1() {\r\n    return COMPACT_STRINGS && coder == LATIN1;\r\n} \r\n```","```\r\n+XX:-CompactStrings\r\n```","```\r\npublic int length() {\r\n    return value.length >> coder;\r\n}\r\n```","```\r\nlong startTime = System.currentTimeMillis();\r\n\r\nList strings = IntStream.rangeClosed(1, 10_000_000)\r\n  .mapToObj(Integer::toString) \r\n  .collect(toList());\r\n\r\nlong totalTime = System.currentTimeMillis() - startTime;\r\nSystem.out.println(\r\n  \"Generated \" + strings.size() + \" strings in \" + totalTime + \" ms.\");\r\n\r\nstartTime = System.currentTimeMillis();\r\n\r\nString appended = (String) strings.stream()\r\n  .limit(100_000)\r\n  .reduce(\"\", (l, r) -> l.toString() + r.toString());\r\n\r\ntotalTime = System.currentTimeMillis() - startTime;\r\nSystem.out.println(\"Created string of length \" + appended.length() \r\n  + \" in \" + totalTime + \" ms.\");\r\n```","```\r\nGenerated 10000000 strings in 854 ms.\r\nCreated string of length 488895 in 5130 ms.\r\n```","```\r\nGenerated 10000000 strings in 936 ms.\r\nCreated string of length 488895 in 9727 ms.\r\n```"]